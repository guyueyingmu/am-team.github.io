<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <meta name="generator" content="nico 0.5.2">
    <meta name="theme" content="autumn 0.1">
    <meta name="keywords" content="支付宝,无线前端,web解决方案,前端,mobile">
    <title>容器接口文档 | AM - 移动Web开放解决方案</title>
    <link rel="stylesheet" href="../static/1140.css"/>
    <link rel="stylesheet" href="../static/wiki.css"/>
    <link rel="stylesheet" href="../static/syntax.css"/>
</head>
<body>
<div class="goTop">
    <span>Go TOP</span>
</div>
<div class="wrap">
    <div class="main">
        <div class="header">
            <div class="slogan row">
                <a href="../index.html"><img src="https://i.alipayobjects.com/i/ecmng/png/201406/2m8Ebk4eZh.png"
                                               class="slogan-logo" alt="alipay"/></a>
                <span>移动Web解决方案</span>
                <button type="button" class="navbar-toggle">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>

            </div>
            <div class="header-nav">
                <div class="navigation row-n">
                    
<ul class="nav">
    <li>
        <a  archiveId = "about"
        href="../about/about.html">
        关于AM </a>
        
    </li>
    
    <li>
        <a  archiveId = "amg"
        href="../amg/dev-guild.html">
        开发指南 </a>
        
        <ul class="nav-sub">
            <li>
                <a href="../amg/dev-guild.html">移动开发规范</a>
            </li>
            
            <li>
                <a href="../amg/mobile-platform-grade.html">移动分级标准</a>
            </li>
            
            <li>
                <a href="../amg/dev-exp-doc.html">移动开发经验谈</a>
            </li>
            
            <li>
                <a href="../amg/website-guild.html">移动建站指南</a>
            </li>
            
            <li>
                <a href="https://github.com/am-team/amDoc/../">Github</a>
            </li>
            
        </ul>
        
    </li>
    
    <li>
        <a  archiveId = "amui"
        href="../amui/about.html">
        AMUI </a>
        
        <ul class="nav-sub">
            <li>
                <a href="../amui/about.html">关于AMUI</a>
            </li>
            
            <li>
                <a href="../antui/nav.html">接口文档</a>
            </li>
            
            <li>
                <a href="https://github.com/am-team/amUI/../">Github</a>
            </li>
            
        </ul>
        
    </li>
    
    <li>
        <a  archiveId = "amw"
        href="../amw/about.html">
        AMW </a>
        
        <ul class="nav-sub">
            <li>
                <a href="../amw/about.html">关于AMW</a>
            </li>
            
            <li>
                <a href="../amw/aw-doc.html">接口文档</a>
            </li>
            
            <li>
                <a href="https://github.com/am-team/amWidget/../">Github</a>
            </li>
            
        </ul>
        
    </li>
    
    <li>
        <a  archiveId = "H5Container"
        href="about.html">
        H5Container </a>
        
        <ul class="nav-sub">
            <li>
                <a href="about.html">关于H5Container</a>
            </li>
            
            <li>
                <a href="ab-doc.html">Bridge组件（内测中）</a>
            </li>
            
            <li>
                <a href="jsapi-doc.html">JSAPI 接口文档</a>
            </li>
            
            <li>
                <a href="share.html">分享定制</a>
            </li>
            
        </ul>
        
    </li>
    
</ul>

                </div>
            </div>
        </div>
        
<div class="row mar">
    <div class="threecol meta">
    </div>
    
 
    <div class="ninecol content">
        <div class="document">
            <div class="post-header">
                <h2 class="document-title">容器接口文档</h2>

                <div class="post-meta">
                    <!--<span></span> /-->
                    <time datetime="2014-07-01">2014-07-01</time>
                </div>
            </div>
            <div class="entry-content">
                <h2 id="接口异常信息">接口异常信息</h2><ul>
<li>JSApi的回调函数的参数是一个PlainObject, 里面可能包含一个特殊的字段error，作为api调用的错误码</li>
<li>示例</li>
</ul>
<div class="highlight"><pre><code class="javascript">{

     error:<span class="number">1</span>,
     errorMessage:<span class="string">'接口不存在'</span>
}</code></pre></div><ul>
<li>小于10为通用错误码，具体api不应使用。定义以下通用错误码:</li>
</ul>
<table>
<thead>
<tr>
<th>error</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>接口不存在</td>
</tr>
<tr>
<td>2</td>
<td>参数无效</td>
</tr>
<tr>
<td>3</td>
<td>发生未知错误</td>
</tr>
<tr>
<td>4</td>
<td>接口无权限</td>
</tr>
</tbody>
</table>
<ul>
<li>最低支持版本：8.2+</li>
</ul>
<h2 id="事件类">事件类</h2><h3 id="alipayjsbridgeready">AlipayJSBridgeReady</h3><p>window.onload以后，容器会初始化，产生一个全局变量AlipayJSBridge, 然后触发此事件</p>
<div class="highlight"><pre><code class="javascript">document.addEventListener(<span class="string">'AlipayJSBridgeReady'</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
  console.log(<span class="keyword">typeof</span> AlipayJSBridge);
}, <span class="literal">false</span>);</code></pre></div><ul>
<li>最低支持版本：8.0+</li>
</ul>
<h3 id="resume">resume</h3><p>当一个webview界面重新回到栈顶时(从后台被唤起、锁屏界面恢复、从下个页面回退)，会触发此事件. 如果这个界面是通过popWindow/popTo到达，且传递了data参数，此页可以收到
如果在界面的resume之前先发生了app的resume, 则event还会有一个resumeParams, 包含app resume时接收到的参数</p>
<ul>
<li>注：
由于ios自身限制，正在进行过场动画的时候不能关闭webview，如果要在resume事件中关闭webview的话需要延时处理。</li>
</ul>
<div class="highlight"><pre><code class="javascript"><span class="comment">// popWindow示例</span>
AlipayJSBridge.call(<span class="string">'popWindow'</span>, {

     data: {hello: <span class="number">1</span>}
});

<span class="comment">// popTo示例</span>
AlipayJSBridge.call(<span class="string">'popTo'</span>, {

     index: -<span class="number">1</span>,
     data: {hello: <span class="number">1</span>}
});

<span class="comment">// 目标页代码</span>
document.addEventListener(<span class="string">'resume'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(event)</span> {</span>
     console.log(event.data);
     console.log(event.resumeParams);
});</code></pre></div><ul>
<li>参数</li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
<th>可选</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>any</td>
<td>需要回传给上一页/目标页的数据。此数据将作为resume时的event.data</td>
<td>Y</td>
<td>null</td>
</tr>
</tbody>
</table>
<ul>
<li>最低支持版本：8.1+</li>
</ul>
<h3 id="back-后退">back(后退)</h3><p>用户点击导航栏左上角返回按钮或者Android的物理返回键，页面将会收到此事件
如果在事件的处理函数中调用了event.preventDefault()，容器将忽略backBehaviour，js需要负责回退或做其他操作</p>
<div class="highlight"><pre><code class="javascript">document.addEventListener(<span class="string">'back'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(e)</span> {</span>
     e.preventDefault();
     AlipayJSBridge.call(<span class="string">'popTo'</span>, {index: <span class="number">0</span>});
}, <span class="literal">false</span>);</code></pre></div><ul>
<li>最低支持版本：8.0+</li>
</ul>
<h3 id="optionmenu">optionMenu</h3><p>导航条右上角按钮被点击时触发</p>
<div class="highlight"><pre><code class="javascript">document.addEventListener(<span class="string">'optionMenu'</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
     <span class="comment">// ... do something</span>
}, <span class="literal">false</span>);</code></pre></div><ul>
<li>最低支持版本：8.0+</li>
</ul>
<h3 id="toolbarmenuclick">toolbarMenuClick</h3><p>在8.2及其以上的版本，如果添加了自定义的菜单，当用户点击按钮会触发回调，回调会返回当前点击按钮在初始化的时候传入的name和tag属性。从而做一些业务上的处理</p>
<div class="highlight"><pre><code class="javascript">document.addEventListener(<span class="string">'toolbarMenuClick'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(e)</span> {</span>
    <span class="comment">//得到name属性值</span>
    console.log(e.data.name);
    <span class="comment">//得到tag属性值</span>
    console.log(e.data.tag)
}, <span class="literal">false</span>);</code></pre></div><ul>
<li>最低支持版本：8.2+</li>
</ul>
<h3 id="titleclick">titleClick</h3><ul>
<li>version:8.2</li>
<li>事件描述：点击标题触发回调</li>
</ul>
<div class="highlight"><pre><code class="javascript">document.addEventListener(<span class="string">'titleClick'</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
}, <span class="literal">false</span>);</code></pre></div><ul>
<li>最低支持版本：8.2+</li>
</ul>
<h3 id="subtitleclick">subtitleClick</h3><ul>
<li><p>注：
subtitleClick事件回调会触发titleClick回调，建议titleClick 和 subtitleClick只使用其中一个</p>
</li>
<li><p>version:8.2</p>
</li>
<li>事件描述：点击子标题触发回调</li>
</ul>
<div class="highlight"><pre><code class="javascript">document.addEventListener(<span class="string">'subtitleClick'</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
}, <span class="literal">false</span>);</code></pre></div><ul>
<li>最低支持版本：8.2+</li>
</ul>
<h2 id="通用类">通用类</h2><h3 id="checkjsapi-jsapi可用性判断">checkJSAPI (JSApi可用性判断)</h3><ul>
<li>示例</li>
</ul>
<div class="highlight"><pre><code class="javascript">AlipayJSBridge.call(<span class="string">'checkJSAPI'</span>, {
     api: <span class="string">'toast'</span>
}, <span class="function"><span class="keyword">function</span> <span class="params">(result)</span> {</span>
     console.log(result.available);
});</code></pre></div><ul>
<li>参数</li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
<th>可选</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>api</td>
<td>string</td>
<td>api名称</td>
<td>N</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<ul>
<li>结果</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result.available</td>
<td>bool</td>
<td>JsApi是否可用</td>
</tr>
</tbody>
</table>
<ul>
<li>最低支持版本：8.1+</li>
</ul>
<h3 id="checkapp-钱包内app可用性判断">checkApp (钱包内App可用性判断)</h3><ul>
<li>示例</li>
</ul>
<div class="highlight"><pre><code class="javascript">AlipayJSBridge.call(<span class="string">'checkApp'</span>, {
  appId: <span class="string">'20000042'</span>,
  stageCode: <span class="string">'firstScreen'</span>
}, <span class="function"><span class="keyword">function</span> <span class="params">(result)</span> {</span>
  console.log(result.status);
  <span class="keyword">if</span> (result &amp;&amp; result.status == <span class="string">'installed'</span>) {
    <span class="comment">// 应用可用</span>
  }
});</code></pre></div><ul>
<li>参数</li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
<th>可选</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>appId</td>
<td>string</td>
<td>应用ID</td>
<td>N</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>stageCode</td>
<td>string</td>
<td>展台代码，目前只有四个，firstScreen(首页九宫格)、secondScreen(首页更多)、urgentA(首页应急位)、contactA(联系人应用)</td>
<td>Y</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<ul>
<li>结果</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result.exist</td>
<td>bool</td>
<td>应用是否存在</td>
</tr>
<tr>
<td>result.status</td>
<td>string</td>
<td>应用的状态。由开放平台定义</td>
</tr>
<tr>
<td>result.extStatus(8.5以上版本支持，只有H5应用有这个字段)</td>
<td>string</td>
<td>online, // 上线；uninstall, // 未安装；installing, // 安装中；offline, // 下线</td>
</tr>
<tr>
<td>result.version(只有H5应用有这个字段)</td>
<td>string</td>
<td>目标应用的版本。如果应用不存在，则此值为undefined</td>
</tr>
<tr>
<td>result.type（只有native应用有这个字段）</td>
<td>string</td>
<td>只有native应用有这个返回字段，值为microApp</td>
</tr>
</tbody>
</table>
<ul>
<li>最低支持版本：8.1+</li>
</ul>
<h3 id="isinstalledapp-外部应用存在性判断">isInstalledApp (外部应用存在性判断)</h3><ul>
<li>示例</li>
</ul>
<div class="highlight"><pre><code class="javascript">AlipayJSBridge.call(<span class="string">'isInstalledApp'</span>, {
  scheme: <span class="string">'alipays://'</span>,
  packagename: <span class="string">'com.eg.android.AlipayGphone'</span>
}, <span class="function"><span class="keyword">function</span> <span class="params">(result)</span> {</span>
  console.log(result.installed);
});</code></pre></div><ul>
<li>参数</li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
<th>可选</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>scheme</td>
<td>string</td>
<td>目标应用的url scheme。ios平台使用</td>
<td>N</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>package</td>
<td>string</td>
<td>目标应用的包名。android平台使用</td>
<td>N</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<ul>
<li>结果</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result.installed</td>
<td>bool</td>
<td>目标应用是否已在用户设备上安装</td>
</tr>
</tbody>
</table>
<ul>
<li>最低支持版本：8.1+</li>
</ul>
<h2 id="界面类">界面类</h2><h3 id="titlebar-控制标题栏">titlebar (控制标题栏)</h3><ul>
<li>示例</li>
</ul>
<div class="highlight"><pre><code class="javascript"><span class="comment">// 显示标题栏</span>
AlipayJSBridge.call(<span class="string">"showTitlebar"</span>);
<span class="comment">// 隐藏标题栏</span>
AlipayJSBridge.call(<span class="string">"hideTitlebar"</span>);

<span class="comment">// 显示右按钮</span>
AlipayJSBridge.call(<span class="string">"showOptionMenu"</span>);

<span class="comment">// 隐藏右按钮</span>
AlipayJSBridge.call(<span class="string">"hideOptionMenu"</span>);

<span class="comment">// 设置标题</span>
AlipayJSBridge.call(<span class="string">"setTitle"</span>, {

    title: <span class="string">'Hello'</span>,
    subtitle: <span class="string">'杭州'</span>  <span class="comment">//8.2</span>
});

<span class="comment">// 设置下拉菜单，dropdownList是数组类型，与subtitle不能共存。若设置了dropdownList则subtitle会被设置成空</span>
AlipayJSBridge.call(<span class="string">"setTitle"</span>, {
    dropdownList: [{icon: <span class="string">"dataURL"</span>, title:<span class="string">"杭州"</span>}, {icon: <span class="string">"dataURL"</span>, title:<span class="string">"深圳"</span>}]
});
<span class="comment">// 监听点击子菜单事件</span>
document.addEventListener(<span class="string">'dropdownListEvent'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(event)</span> {</span>
    alert(event.data.index + event.data.title); 
}, <span class="literal">false</span>);</code></pre></div><ul>
<li>参数</li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
<th>可选</th>
<th>默认值</th>
<th>版本</th>
</tr>
</thead>
<tbody>
<tr>
<td>title</td>
<td>string</td>
<td>主标题文案</td>
<td>N</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>subtitle</td>
<td>string</td>
<td>副标题文案</td>
<td>Y</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>dropdownList</td>
<td>array</td>
<td>下拉菜单，icon是url或者base64，title是子菜单标题</td>
<td>Y</td>
<td>&nbsp;</td>
<td>9.0</td>
</tr>
<tr>
<td>dropdownInit</td>
<td>int</td>
<td>下拉菜单，默认选中哪一项</td>
<td>Y</td>
<td>0</td>
<td>9.0</td>
</tr>
</tbody>
</table>
<ul>
<li>结果</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>类型</th>
<th>描述</th>
<th>版本</th>
</tr>
</thead>
<tbody>
<tr>
<td>event.data.index</td>
<td>int</td>
<td>主返回点击子菜单的index文案</td>
<td>9.0</td>
</tr>
<tr>
<td>event.data.title</td>
<td>string</td>
<td>返回点击子菜单的title</td>
<td>9.0</td>
</tr>
</tbody>
</table>
<ul>
<li>错误</li>
</ul>
<table>
<thead>
<tr>
<th>error</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>10</td>
<td>没有权限</td>
</tr>
<tr>
<td>11</td>
<td>用户取消操作</td>
</tr>
</tbody>
</table>
<h3 id="setoptionmenu-设置右按钮属性">setOptionMenu (设置右按钮属性)</h3><div class="highlight"><pre><code class="javascript"><span class="comment">// 设置右按钮属性</span>
AlipayJSBridge.call(<span class="string">'setOptionMenu'</span>, {

     title : <span class="string">'按钮'</span>,  <span class="comment">// 与icon二选一</span>
     icon : <span class="string">'http://pic.alipayobjects.com/e/201212/1ntOVeWwtg.png'</span>,
});</code></pre></div><ul>
<li>参数</li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
<th>可选</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>title</td>
<td>string</td>
<td>右按钮文字。调用setOptionMenu时，title与icon必选一个</td>
<td>N</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>icon</td>
<td>string</td>
<td>右按钮图标url。建议图片尺寸40x40</td>
<td>N</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<ul>
<li>最低支持版本：8.0+</li>
</ul>
<h3 id="toolbar-设置工具栏">toolbar (设置工具栏)</h3><ul>
<li>示例</li>
</ul>
<div class="highlight"><pre><code class="javascript"><span class="comment">// 显示工具栏</span>
AlipayJSBridge.call(<span class="string">"showToolbar"</span>);

<span class="comment">// 隐藏工具栏</span>
AlipayJSBridge.call(<span class="string">"hideToolbar"</span>);</code></pre></div><h3 id="toast-弱提示">toast (弱提示)</h3><ul>
<li>示例</li>
</ul>
<div class="highlight"><pre><code class="javascript"><span class="comment">// 显示</span>
AlipayJSBridge.call(<span class="string">'toast'</span>, {

     content: <span class="string">'Toast测试'</span>,
     type: <span class="string">'success'</span>,
     duration: <span class="number">3000</span>
}, <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>

     alert(<span class="string">"toast消失后执行"</span>);
});</code></pre></div><ul>
<li>参数</li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
<th>可选</th>
<th>默认值</th>
<th>版本</th>
</tr>
</thead>
<tbody>
<tr>
<td>content</td>
<td>string</td>
<td>文字内容</td>
<td>N</td>
<td>&quot;&quot;</td>
<td>8.0</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>none / success / fail。 icon类型</td>
<td>Y</td>
<td>none</td>
<td>8.1</td>
</tr>
<tr>
<td>duration</td>
<td>int</td>
<td>显示时长，单位为毫秒。android实际只支持2000/3500两种，小于或等于2000的相当于2000, 大于2000的相当于3500</td>
<td>Y</td>
<td>2000</td>
<td>8.1</td>
</tr>
</tbody>
</table>
<ul>
<li>最低支持版本：8.0+</li>
</ul>
<h3 id="settoolbarmenu-设置菜单项">setToolbarMenu (设置菜单项)</h3><ul>
<li>示例</li>
</ul>
<div class="highlight"><pre><code class="javascript">AlipayJSBridge.call(<span class="string">'setToolbarMenu'</span>,{
    menus:[
    {name:<span class="string">"字体"</span>,tag:<span class="string">"H5MenuActionOfFont"</span>,icon:<span class="string">"https://os.alipayobjects.com/rmsportal/SuHlTsUNSyJvRzn.png"</span>}, 
        {name:<span class="string">"菜单项2"</span>,tag:<span class="string">"cm2"</span>},
        {name:<span class="string">"菜单项3"</span>,tag:<span class="string">"cm3"</span>} 
    ],
    override:<span class="literal">false</span>
}, <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>

});</code></pre></div><ul>
<li>参数</li>
</ul>
<p>一个包含菜单项的列表，name用来表示菜单项的名称必须填写，tag表示其他的信息可选。当菜单被点击后，传入的值都会被返回。</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
<th>可选</th>
<th>默认值</th>
<th>版本</th>
</tr>
</thead>
<tbody>
<tr>
<td>menus</td>
<td>array</td>
<td>菜单列表，默认显示于容器默认菜单项的右上角,icon使用容器默认icon（五角星）。<br />name:表示菜单项显示内容，必须控制在4个字符（含）以内，否则容器会截断4个字显示（必须填写）;<br />tag:表示菜单项的唯一标签（必须填写）；<br />icon:可自定义icon，传入图片url（非必填）；<br />当菜单被点击后，传入的值都会被返回；<br />当override为false时，用户自定义菜单个数必须小于5个。</td>
<td>N</td>
<td>&nbsp;</td>
<td></td>
</tr>
<tr>
<td>override</td>
<td>bool</td>
<td>是否覆盖容器自带的菜单列表</td>
<td>Y</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>reset</td>
<td>bool</td>
<td>是否重置菜单到系统默认（ios是重置控制面板第二行），当reset=true时，忽略其他参数</td>
<td>Y</td>
<td>false</td>
<td>8.6</td>
</tr>
</tbody>
</table>
<ul>
<li>结果</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result.status</td>
<td>string</td>
<td>&quot;Success&quot;:添加菜单项成功</td>
</tr>
</tbody>
</table>
<ul>
<li>错误</li>
<li>最低支持版本：8.2+</li>
</ul>
<h3 id="alert-对话框">Alert (对话框)</h3><ul>
<li>示例</li>
</ul>
<div class="highlight"><pre><code class="javascript">AlipayJSBridge.call(<span class="string">'alert'</span>, {

     title: <span class="string">'亲'</span>,
     message: <span class="string">'你好'</span>,
     button: <span class="string">'确定'</span>
}, <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>

     console.log(<span class="string">'alert dismissed'</span>);
});</code></pre></div><ul>
<li>参数</li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
<th>可选</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>title</td>
<td>string</td>
<td>alert框标题</td>
<td>Y</td>
<td>&quot;&quot;</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>alert框文本</td>
<td>N</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>button</td>
<td>string</td>
<td>按钮文字</td>
<td>Y</td>
<td>&quot;确定&quot;</td>
</tr>
</tbody>
</table>
<ul>
<li>最低支持版本：8.1+</li>
</ul>
<h3 id="confirm-选择对话框">Confirm (选择对话框)</h3><ul>
<li>示例</li>
</ul>
<div class="highlight"><pre><code class="javascript">AlipayJSBridge.call(<span class="string">'confirm'</span>, {
     title: <span class="string">'亲'</span>,
     message: <span class="string">'确定要这么干吧'</span>,
     okButton: <span class="string">'确定'</span>,
     cancelButton: <span class="string">'算了'</span>
}, <span class="function"><span class="keyword">function</span> <span class="params">(result)</span> {</span>
     console.log(result.ok);
});</code></pre></div><ul>
<li>参数</li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
<th>可选</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>title</td>
<td>string</td>
<td>alert框标题</td>
<td>Y</td>
<td>&quot;&quot;</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>alert框文本</td>
<td>N</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>okButton</td>
<td>string</td>
<td>&quot;确定&quot;按钮文字</td>
<td>Y</td>
<td>&quot;确定&quot;</td>
</tr>
<tr>
<td>cancelButton</td>
<td>string</td>
<td>&quot;取消&quot;按钮文字</td>
<td>Y</td>
<td>&quot;取消&quot;</td>
</tr>
</tbody>
</table>
<ul>
<li>结果</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result.ok</td>
<td>bool</td>
<td>用户点击确定</td>
</tr>
</tbody>
</table>
<ul>
<li>最低支持版本：8.1+</li>
</ul>
<h3 id="loading-加载中提示">loading(加载中提示)</h3><ul>
<li>示例</li>
</ul>
<div class="highlight"><pre><code class="javascript"><span class="comment">// 显示</span>
AlipayJSBridge.call(<span class="string">'showLoading'</span>, {

     text: <span class="string">'加载中'</span>,
     delay: <span class="number">1000</span>
});

<span class="comment">// 隐藏</span>
AlipayJSBridge.call(<span class="string">'hideLoading'</span>);</code></pre></div><ul>
<li>参数 (since 8.1)</li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
<th>可选</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>text</td>
<td>string</td>
<td>文本内容；若不指定，则显示为中间大菊花；如果指定，显示为小菊花右侧带文字</td>
<td>Y</td>
<td>&quot;&quot;</td>
</tr>
<tr>
<td>delay</td>
<td>int</td>
<td>延迟多少毫秒后显示；如果在此时间之前调用了hideLoading, 则不会再显示</td>
<td>Y</td>
<td>0</td>
</tr>
</tbody>
</table>
<ul>
<li><p>备注</p>
<ul>
<li>显示loading后，只有标题栏、工具栏可以操作</li>
<li>当前页面unload时，Loading自动隐藏</li>
</ul>
</li>
<li><p>最低支持版本：8.0+</p>
</li>
</ul>
<h2 id="上下文类">上下文类</h2><h3 id="popto-退回指定界面">popTo (退回指定界面)</h3><ul>
<li>示例</li>
</ul>
<div class="highlight"><pre><code class="javascript"><span class="comment">// 按index跳转</span>
AlipayJSBridge.call(<span class="string">'popTo'</span>, {

     index: -<span class="number">2</span>,
}, <span class="function"><span class="keyword">function</span> <span class="params">(result)</span> {</span>

     <span class="keyword">if</span> (error) {
       console.log(error);
     }
});
<span class="comment">// 按url跳转</span>
AlipayJSBridge.call(<span class="string">'popTo'</span>, {

     url: <span class="string">'http://d.alilpay.com/step2.html'</span>
}, <span class="function"><span class="keyword">function</span> <span class="params">(result)</span> {</span>

     <span class="keyword">if</span> (result.error) {
       console.log(result.error);
     }
});
<span class="comment">// 按urlPattern跳转</span>
AlipayJSBridge.call(<span class="string">'popTo'</span>, {

     urlPattern: <span class="string">'step2.html'</span>
});</code></pre></div><ul>
<li>参数</li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
<th>可选</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>index</td>
<td>int</td>
<td>目标界面在会话界面栈中的索引；如果小于零，则将与当前界面的index相加</td>
<td>N</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>url</td>
<td>string</td>
<td>目标界面的URL</td>
<td>N</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>urlPattern</td>
<td>string</td>
<td>目标界面的URL匹配表达式（URL如果包含urlPattern，匹配成功）</td>
<td>N</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<ul>
<li>结果</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>undefined</td>
<td>操作成功时，回调可能不被调用；result不应被使用</td>
</tr>
</tbody>
</table>
<ul>
<li>错误</li>
</ul>
<p>无效的index;
未匹配url;
未匹配urlPattern;</p>
<table>
<thead>
<tr>
<th>error</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>10</td>
<td>未配置参数；<br />无效的index;<br />未匹配url;<br />未匹配urlPattern;</td>
</tr>
</tbody>
</table>
<ul>
<li>最低支持版本：8.1+</li>
</ul>
<h3 id="exitapp-退出当前h5应用">exitApp (退出当前H5应用)</h3><ul>
<li>例子</li>
</ul>
<div class="highlight"><pre><code class="javascript">AlipayJSBridge.call(<span class="string">'exitApp'</span>);</code></pre></div><ul>
<li><p>参数</p>
<p>无</p>
</li>
<li><p>最低支持版本：8.2+</p>
</li>
</ul>
<h3 id="openinbrowser-浏览器中打开">openInBrowser (浏览器中打开)</h3><ul>
<li>示例</li>
</ul>
<div class="highlight"><pre><code class="javascript">AlipayJSBridge.call(<span class="string">'openInBrowser'</span>, {
     url: <span class="string">'http://m.baidu.com/'</span>
});</code></pre></div><ul>
<li>参数</li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
<th>可选</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>url</td>
<td>string</td>
<td>要打开的URL</td>
<td>Y</td>
<td>当前页面URL</td>
</tr>
</tbody>
</table>
<ul>
<li>最低支持版本：8.1+</li>
</ul>
<h3 id="窗口控制">窗口控制</h3><ul>
<li>示例</li>
</ul>
<div class="highlight"><pre><code class="javascript"><span class="comment">// 开新窗口，ios下，调此接口的同时，不要接着调closeWebview/pop接口，会造成钱包崩溃</span>
AlipayJSBridge.call(<span class="string">'pushWindow'</span>, {
  url: <span class="string">'http://www.baidu.com/'</span>,
  param: {
    readTitle: <span class="literal">true</span>,
    defaultTitle: <span class="literal">true</span>,
    showToolBar: <span class="literal">false</span>
    <span class="comment">// ...</span>
  }
});

<span class="comment">// 关闭窗口，可传递参数</span>
AlipayJSBridge.call(<span class="string">'popWindow'</span>,{

    data: {
    }
});

<span class="comment">// 关闭窗口（别名）</span>
AlipayJSBridge.call(<span class="string">'closeWebview'</span>);</code></pre></div><ul>
<li>参数</li>
</ul>
<p>8.1: 没有指定的属性将从当前窗口继承</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
<th>可选</th>
<th>默认值</th>
<th>版本</th>
</tr>
</thead>
<tbody>
<tr>
<td>url</td>
<td>string</td>
<td>要打开的url</td>
<td>N</td>
<td>&nbsp;</td>
<td>8.0: 支持绝对url8.1: 支持绝对/相对url</td>
</tr>
<tr>
<td>param</td>
<td>dictionary</td>
<td>新开窗口的属性配置支持的key/value参见启动参数列表(其中的&quot;YES&quot;/&quot;NO&quot;需要使用true/false代替)</td>
<td>Y</td>
<td>{}</td>
<td>8.0:</td>
</tr>
<tr>
<td>popToIndex</td>
<td>int</td>
<td>表示pop后的目标界面在会话界面栈中的索引），如果小于0，则将与当前界面的index相加。</td>
<td>Y</td>
<td></td>
<td>9.0:</td>
</tr>
<tr>
<td>transparent</td>
<td>bool</td>
<td>表示是否背景半透明</td>
<td>Y</td>
<td>NO，当为YES时，以下参数默认都为NO：showTitlebar、showToolbar、showProgress、showDomain和canPullDown。注：(Android)不支持魔法参数。</td>
<td>9.0:</td>
</tr>
</tbody>
</table>
<ul>
<li>最低支持版本：8.0+</li>
</ul>
<h2 id="扩展类">扩展类</h2><h3 id="getnetworktype-获取网络状态">getNetworkType (获取网络状态)</h3><ul>
<li>示例</li>
</ul>
<div class="highlight"><pre><code class="javascript">AlipayJSBridge.call(<span class="string">'getNetworkType'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(result)</span> {</span>

     console.log(result.networkType);
});</code></pre></div><ul>
<li>结果</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>类型</th>
<th>描述</th>
<th>版本</th>
</tr>
</thead>
<tbody>
<tr>
<td>result.err_msg(兼容微信)</td>
<td>string</td>
<td>网络类型&#39;network_type:fail&#39;: 无网络, 或网络断开&#39;network_type:wifi&#39;: wifi网络 &#39;network_type:wwan&#39;: 非wifi</td>
<td>8.0</td>
</tr>
<tr>
<td>result.networkType</td>
<td>string</td>
<td>网络类型&#39;fail&#39;: 无网络，或网络断开&#39;wifi&#39;: wifi网络&#39;wwan&#39;: 非wifi</td>
<td>8.2</td>
</tr>
<tr>
<td>result.networkAvailable</td>
<td>bool</td>
<td>网络是否连网可用</td>
<td>8.2</td>
</tr>
</tbody>
</table>
<ul>
<li>最低支持版本：8.0+</li>
</ul>
<h3 id="photo-拍照-选择照片">photo (拍照/选择照片)</h3><ul>
<li>示例</li>
</ul>
<div class="highlight"><pre><code class="javascript">AlipayJSBridge.call(<span class="string">'photo'</span>, {

     dataType: <span class="string">'dataURL'</span>,
     imageFormat: <span class="string">'jpg'</span>,
     quality: <span class="number">75</span>,
     maxWidth: <span class="number">500</span>,
     maxHeight: <span class="number">500</span>,
     allowEdit: <span class="literal">true</span>
}, <span class="function"><span class="keyword">function</span> <span class="params">(result)</span> {</span>

     image = document.getElementById(<span class="string">'myImage'</span>);
     image.src = <span class="string">"data:image/jpeg;base64,"</span> + result.dataURL;
});</code></pre></div><ul>
<li>参数</li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
<th>可选</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>dataType</td>
<td>string</td>
<td>结果数据格式:dataURL: base64编码的图片数据fileURL: 图片在文件系统中的url图片存放于临时目录中，钱包退出时被清除</td>
<td>Y</td>
<td>dataURL</td>
</tr>
<tr>
<td>imageFormat</td>
<td>string</td>
<td>jpg / png</td>
<td>Y</td>
<td>jpg</td>
</tr>
<tr>
<td>quality</td>
<td>int</td>
<td>jpg的图片质量, 取值1到100</td>
<td>Y</td>
<td>75</td>
</tr>
<tr>
<td>maxWidth</td>
<td>int</td>
<td>图片的最大宽度. 过大将被等比缩小</td>
<td>Y</td>
<td>不限</td>
</tr>
<tr>
<td>maxHeight</td>
<td>int</td>
<td>图片的最大高度. 过大将被等比缩小</td>
<td>Y</td>
<td>不限</td>
</tr>
<tr>
<td>allowEdit</td>
<td>bool</td>
<td>是否允许编辑(框选). 为true时，拍照时会有一个方形的选框</td>
<td>Y</td>
<td>false</td>
</tr>
</tbody>
</table>
<ul>
<li>结果</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result.dataURL</td>
<td>string</td>
<td>base64编码的图片数据</td>
</tr>
<tr>
<td>result.fileURL</td>
<td>string</td>
<td>图片文件URL</td>
</tr>
</tbody>
</table>
<ul>
<li>错误</li>
</ul>
<table>
<thead>
<tr>
<th>error</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>10</td>
<td>用户取消</td>
</tr>
<tr>
<td>11</td>
<td>操作失败（权限不够）</td>
</tr>
</tbody>
</table>
<ul>
<li>最低支持版本：8.1+</li>
</ul>
<h3 id="scan-扫码-扫卡">scan (扫码/扫卡)</h3><ul>
<li>示例</li>
</ul>
<div class="highlight"><pre><code class="javascript">AlipayJSBridge.call(<span class="string">'scan'</span>, {

     type: <span class="string">'bar'</span>
}, <span class="function"><span class="keyword">function</span> <span class="params">(result)</span> {</span>


});</code></pre></div><ul>
<li>参数</li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
<th>可选</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>string</td>
<td>扫描目标类型，qr / bar / card</td>
<td>N</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<ul>
<li>结果</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result.barCode</td>
<td>string</td>
<td>扫描所得条码数据</td>
</tr>
<tr>
<td>result.qrCode</td>
<td>string</td>
<td>扫描所得二维码数据</td>
</tr>
<tr>
<td>result.cardNumber</td>
<td>string</td>
<td>扫描所得银行卡号</td>
</tr>
</tbody>
</table>
<ul>
<li>错误</li>
</ul>
<table>
<thead>
<tr>
<th>error</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>10</td>
<td>用户取消</td>
</tr>
<tr>
<td>11</td>
<td>操作失败</td>
</tr>
</tbody>
</table>
<ul>
<li>最低支持版本：8.1+</li>
</ul>
<h3 id="share-分享">share (分享)</h3><ul>
<li>备注</li>
<li>9.3.1已经不再支持来往好友和来往动态的分享渠道</li>
<li>ios 新浪微博SDK url255限制</li>
<li>ios 新浪微博不能分享图片+url</li>
<li><p>android / ios微信分享不同程度展现不一致</p>
</li>
<li><p>示例</p>
</li>
</ul>
<div class="highlight"><pre><code class="javascript">AlipayJSBridge.call(<span class="string">'share'</span>, {
  <span class="string">'bizType'</span>:<span class="string">"testShareBizType"</span>,   <span class="comment">// 标示业务类型，埋点时使用，不需要埋业务参数，可以设空</span>
  <span class="string">'keepOrder'</span>:<span class="literal">false</span>, <span class="comment">// 保持分享渠道的顺序,android 9.1 换新的分享组件以后不支持</span>
  <span class="string">'channels'</span>: [{
    name: <span class="string">'Weibo'</span>, <span class="comment">//新浪微博</span>
    param: {
      title: <span class="string">'分享的标题'</span>,
      content: <span class="string">'分享的内容，不能超过140'</span>,
      imageUrl: <span class="string">'分享的图片地址'</span>,
      captureScreen: <span class="literal">true</span>, <span class="comment">//分享当前屏幕截图(和imageUrl同时存在时，优先imageUrl)</span>
      url: <span class="string">'http://baidu.com'</span> <span class="comment">//分享跳转的url，当添加此参数时，分享的图片大小不能超过32K</span>
    }
  }, {
    name: <span class="string">'LaiwangTimeline'</span>, <span class="comment">//来往动态</span>
    param: {
      title: <span class="string">'分享的标题'</span>,
      content: <span class="string">'分享的内容'</span>,
      imageUrl: <span class="string">'分享的图片地址'</span>,
      captureScreen: <span class="literal">true</span>, 
      url: <span class="string">'http://alipay.com'</span> 
    }
  },{
    name: <span class="string">'Weixin'</span>, <span class="comment">//微信</span>
    param: {
      title: <span class="string">'分享的标题'</span>,
      content: <span class="string">'分享的内容'</span>,
      imageUrl: <span class="string">'分享的图片地址'</span>,
      captureScreen: <span class="literal">true</span>, 
      url: <span class="string">'http://baidu.com'</span> 
    }
  }, {
    name: <span class="string">'WeixinTimeLine'</span>, <span class="comment">//微信朋友圈</span>
    param: {
      title: <span class="string">'分享的标题'</span>,
      content: <span class="string">'分享的内容'</span>,
      imageUrl: <span class="string">'分享的图片地址'</span>,
      captureScreen: <span class="literal">true</span>, 
      url: <span class="string">'http://baidu.com'</span> 
    }
  },{
        name: <span class="string">'SMS'</span>, <span class="comment">//短信</span>
        param: {
            content: <span class="string">'短信内容'</span>,
            <span class="comment">// contentType和extData为人传人定制功能专用，无需求请勿设置，campId   活动ID （一定不能为空）</span>
        contentType: <span class="string">'url'</span>,
            extData:<span class="string">'targetUrl=http://d.alipay.com/rcr/expect.htm,slTargetUrl=http://m.alipay.com,campId=,bizId=biztest,bizName=bn,validDate=10800,length=8'</span>
        }
    }, {
        name: <span class="string">'CopyLink'</span>, <span class="comment">//复制链接</span>
        param: {
            url: <span class="string">'http://m.alipay.com'</span>
        }
    },{
    name: <span class="string">'ALPContact'</span>,   <span class="comment">//支付宝联系人,9.0版本</span>
    param: {   <span class="comment">//请注意，支付宝联系人仅支持一下参数</span>
      contentType: <span class="string">'text'</span>,    <span class="comment">//必选参数,目前支持支持"text","image","url"格式</span>
      content:<span class="string">"xxx"</span>,    <span class="comment">//必选参数,分享描述</span>
      iconUrl:<span class="string">"xxx"</span>,   <span class="comment">//必选参数,缩略图url，发送前预览使用,</span>
      imageUrl:<span class="string">"xxx"</span>, <span class="comment">//图片url</span>
      url:<span class="string">"http://www.163.com"</span>,   <span class="comment">//必选参数，卡片跳转连接</span>
      title:<span class="string">"share title"</span>,    <span class="comment">//必选参数,分享标题</span>
      memo:<span class="string">""</span>,   <span class="comment">//透传参数,分享成功后，在联系人界面的通知提示。</span>
      otherParams:{    <span class="comment">//透传参数，额外的分享入参</span>
          extendData:<span class="string">"testXY"</span>,    <span class="comment">//可选参数，额外的分享入参。服务器验证签名使用，由服务器@笑六 提前发给业务方</span>
      alipayUrl:<span class="string">'alipays://xxxx'</span> <span class="comment">// 这种方式的url打开 不会跳转到h5中间页</span>
        }
    }}]
},<span class="function"><span class="keyword">function</span><span class="params">(result)</span>{</span>
});

ALPContact：
text类型必填：content
image类型必填：imageUrl
url类型必填：iconUrl、title、content、url
注：如果传alipays协议url，必须增加透传参数：alipayUrl，否则默认会用容器打开alipays页面，中间多余一个空白（about:blank）页面。</code></pre></div><p>9.0以前版本，仅ALPContact不同</p>
<div class="highlight"><pre><code class="javascript">AlipayJSBridge.call(<span class="string">'share'</span>, {
  <span class="string">'bizType'</span>:<span class="string">"testShareBizType"</span>,   <span class="comment">// 标示业务类型，埋点时使用，不需要埋业务参数，可以设空</span>
  <span class="string">'keepOrder'</span>:<span class="literal">false</span>, <span class="comment">// 保持分享渠道的顺序</span>
  <span class="string">'channels'</span>: [{
    name: <span class="string">'ALPContact'</span>,   <span class="comment">//支付宝联系人</span>
    param: {   <span class="comment">//请注意，支付宝联系人仅支持一下参数</span>
      contentType: <span class="string">'1001'</span>,    <span class="comment">//必选参数,目前支持支持"1001","1002","1003"格式，分别为小图linkCard，大图linkCard，大图无标题linkCard</span>
      content:<span class="string">"xxx"</span>,    <span class="comment">//必选参数,分享描述</span>
      iconUrl:<span class="string">"xxx"</span>,   <span class="comment">//必选参数,缩略图url，发送前预览使用</span>
      url:<span class="string">"http://www.163.com"</span>,   <span class="comment">//必选参数，卡片跳转连接</span>
      title:<span class="string">"share title"</span>,    <span class="comment">//必选参数,分享标题(contentType为1003时不需要填)</span>
      imageUrl:<span class="string">""</span>,   <span class="comment">//必选参数，大图url，和iconUrl应该是一张图的大图形式，在会话流里显示使用</span>
      memo:<span class="string">""</span>,   <span class="comment">//必选参数,分享成功后，在联系人界面的通知提示。</span>
      bizType:<span class="string">""</span>,   <span class="comment">//必选参数,表示业务类型，不超过16个字符，分享前联系@笑六 确认重复性。</span>
      sign:<span class="string">""</span>,   <span class="comment">//必选参数,签名字符串。防止分享的数据被更改，由联系人的服务端 @笑六 生成</span>
      maxSelect:<span class="string">"1"</span>,    <span class="comment">//可选参数，最大分享几个人，设空的话，默认为1</span>
      egg:<span class="string">""</span>,    <span class="comment">//可选参数，彩蛋ID，由 @松雪 配置</span>
      otherParams:{    <span class="comment">//可选参数，额外的分享入参</span>
        }
    }}]
},<span class="function"><span class="keyword">function</span><span class="params">(result)</span>{</span>
});</code></pre></div><ul>
<li>参数</li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
<th>可选</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>keepOrder</td>
<td>bool</td>
<td>保持分享渠道的顺序</td>
<td>Y</td>
<td>false</td>
</tr>
<tr>
<td>channels</td>
<td>array</td>
<td>分享渠道列表，至少包含一个channel, 每个channel是一个dictionary；如果channel多于一个，会跳出渠道选择框</td>
<td>N</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>channels[i].name</td>
<td>string</td>
<td>渠道名称。支持以下几种：Weibo/LaiwangContacts(9.3.0及以下)/Weixin/WeixinTimeLine/SMS/CopyLink/ALPContact</td>
<td>N</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>channel[i].param</td>
<td>dictionary</td>
<td>指定渠道的参数，支持以下字段：title: string, 分享标题 content : string, 分享内容 imageUrl : string, 图片url captureScreen : bool, 默认为false, 是否截屏分享 url : string, 分享链接</td>
<td>N</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<ul>
<li>结果</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>dictionary</td>
<td>channelName：选择的渠道名称(8.4版支持)；shareResult：分享的结果(true/false)(8.4版支持)</td>
</tr>
</tbody>
</table>
<ul>
<li>错误</li>
</ul>
<table>
<thead>
<tr>
<th>error</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>10</td>
<td>分享失败或取消</td>
</tr>
</tbody>
</table>
<ul>
<li>最低支持版本：8.1+</li>
</ul>
<h3 id="getcities-城市选择">getCities (城市选择)</h3><ul>
<li>城市选择</li>
<li>示例</li>
</ul>
<div class="highlight"><pre><code class="javascript"><span class="comment">//默认城市选择如下</span>
AlipayJSBridge.call(<span class="string">'getCities'</span>, {
  currentCity: <span class="string">'杭州市'</span>,
  adcode:<span class="string">'310100'</span>
}, <span class="function"><span class="keyword">function</span> <span class="params">(result)</span> {</span>
  console.log(result);
});
<span class="comment">//自定义城市必须如下格式:[{name:"杭州",adcode:"xxxx",pinyin:"hangzhou"},{name:"杭州",adcode:"xxxx",pinyin:"hangzhou"}]</span>
AlipayJSBridge.call(<span class="string">'getCities'</span>, {
  currentCity: <span class="string">'杭州市'</span>,
  adcode:<span class="string">'310100'</span>,
  needHotCity:<span class="literal">true</span>,
  customCities:[{name:<span class="string">"杭州"</span>,adcode:<span class="string">"xxxx"</span>,pinyin:<span class="string">"hangzhou"</span>},{name:<span class="string">"杭州"</span>,adcode:<span class="string">"xxxx"</span>,pinyin:<span class="string">"hangzhou"</span>}]
}, <span class="function"><span class="keyword">function</span> <span class="params">(result)</span> {</span>
  console.log(result);
});</code></pre></div><ul>
<li>参数</li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
<th>可选</th>
<th>默认值</th>
<th>版本</th>
</tr>
</thead>
<tbody>
<tr>
<td>currentCity</td>
<td>string</td>
<td>传入当前使用中的城市名</td>
<td>N</td>
<td>&nbsp;</td>
<td>8.2</td>
</tr>
<tr>
<td>adcode</td>
<td>string</td>
<td>传入当前使用中的城市的adcode（如果没有用到adcode，可以传入空字符串）</td>
<td>N</td>
<td>&nbsp;</td>
<td>8.2</td>
</tr>
<tr>
<td>customCities</td>
<td>array</td>
<td>自定义城市列表</td>
<td>Y</td>
<td>&nbsp;</td>
<td>8.4</td>
</tr>
<tr>
<td>customHotCities</td>
<td>array</td>
<td>自定义热门城市列表</td>
<td>Y</td>
<td>&nbsp;</td>
<td>8.4</td>
</tr>
<tr>
<td>needHotCity</td>
<td>bool</td>
<td>是否需要现实热门城市</td>
<td>Y</td>
<td>true</td>
<td>8.4</td>
</tr>
</tbody>
</table>
<p>å</p>
<ul>
<li>最低支持版本：8.1+</li>
</ul>
<h3 id="vibrate-调用震动">vibrate (调用震动)</h3><ul>
<li>示例</li>
</ul>
<div class="highlight"><pre><code class="javascript">AlipayJSBridge.call(<span class="string">'vibrate'</span>);</code></pre></div><ul>
<li>最低支持版本：8.2+</li>
</ul>
<h3 id="watchshake-摇一摇">watchShake (摇一摇)</h3><ul>
<li>摇一摇</li>
<li>示例</li>
</ul>
<div class="highlight"><pre><code class="javascript">AlipayJSBridge.call(<span class="string">'watchShake'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>

     <span class="comment">//摇到啦</span>
});</code></pre></div><ul>
<li>最低支持版本：8.2+</li>
</ul>

            </div>
        </div>
    </div>
</div>

 
 
    </div>
</div>
<div class="footer">
    <div class="grid-990 sitelink fn-clear" coor="sitelink" role="contentinfo">
        <ul class="ui-link fn-clear">
            <!-- XT:支付宝首页/默认频道/支付宝新首页开始:www.alipay.com/i/indexb.vm -->
            <li class="ui-link-item"><a href="http://ab.alipay.com/i/index.htm" target="_blank" title="关于支付宝"
                                        seed="grid990-link" smartracker="on">关于支付宝</a></li>
            <li class="ui-link-item"><a href="http://blog.alipay.com/" target="_blank" title="官方博客"
                                        seed="grid990-linkT1" smartracker="on">官方博客</a></li>
            <li class="ui-link-item"><a href="http://job.alipay.com/index.php" target="_blank" title="诚征英才"
                                        seed="grid990-linkT2" smartracker="on">诚征英才</a></li>
            <li class="ui-link-item"><a href="https://open.alipay.com/index.htm" target="_blank" title="开放平台"
                                        seed="grid990-linkT3" smartracker="on">开放平台</a></li>
            <li class="ui-link-item"><a href="http://ab.alipay.com/i/lianxi.htm" target="_blank" title="联系我们"
                                        seed="grid990-linkT4" smartracker="on">联系我们</a></li>
            <li class="ui-link-item"><a href="http://fun.alipay.com/sitemap/index.htm" target="_blank" title="网站地图"
                                        seed="grid990-linkT5" smartracker="on">网站地图</a></li>
            <li class="ui-link-item"><a href="http://global.alipay.com/ospay/home.htm" target="_blank"
                                        title="International Business" seed="grid990-International-Business"
                                        smartracker="on">International Business</a></li>
            <li class="ui-link-item ui-link-item-last"><a href="http://ab.alipay.com/i/jieshao.htm#en" target="_blank"
                                                          title="About Alipay" seed="grid990-About-Alipay"
                                                          smartracker="on">About Alipay</a></li>
            <!-- XT:支付宝首页/默认频道/支付宝新首页结束:www.alipay.com/i/indexb.vm -->        </ul>
        <ul class="ui-link fn-clear">
            <!-- XT:支付宝首页/默认频道/支付宝新首页开始:www.alipay.com/i/indexb.vm -->
            <li class="ui-link-item"><a href="http://page.1688.com/shtml/about/ali_group1.shtml" target="_blank"
                                        title="阿里巴巴集团" seed="grid990-linkT7" smartracker="on">阿里巴巴集团</a></li>
            <li class="ui-link-item"><a href="http://www.alibaba.com/" target="_blank" title="阿里巴巴国际站"
                                        seed="grid990-linkT8" smartracker="on">阿里巴巴国际站</a></li>
            <li class="ui-link-item"><a href="http://www.1688.com/" target="_blank" title="阿里巴巴中国站"
                                        seed="grid990-linkT9" smartracker="on">阿里巴巴中国站</a></li>
            <li class="ui-link-item"><a href="http://www.aliexpress.com/" target="_blank" title="全球速卖通"
                                        seed="grid990-linkT10" smartracker="on">全球速卖通</a></li>
            <li class="ui-link-item"><a href="http://www.taobao.com/" target="_blank" title="淘宝网" seed="grid990-linkT11"
                                        smartracker="on">淘宝网</a></li>
            <li class="ui-link-item"><a href="http://www.tmall.com/" target="_blank" title="天猫" seed="grid990-linkT12"
                                        smartracker="on">天猫</a></li>
            <li class="ui-link-item"><a href="http://ju.taobao.com" target="_blank" title="聚划算" seed="grid990-linkT13"
                                        smartracker="on">聚划算</a></li>
            <li class="ui-link-item"><a href="http://www.etao.com/?tbpm=t" target="_blank" title="一淘"
                                        seed="grid990-linkT14" smartracker="on">一淘</a></li>
            <li class="ui-link-item"><a href="http://www.alimama.com/index.htm" target="_blank" title="阿里妈妈"
                                        seed="grid990-linkT15" smartracker="on">阿里妈妈</a></li>
            <li class="ui-link-item"><a href="http://trip.taobao.com/" target="_blank" title="淘宝旅行"
                                        seed="grid990-linkT16" smartracker="on">淘宝旅行</a></li>
            <li class="ui-link-item"><a href="http://www.xiami.com/" target="_blank" title="虾米" seed="grid990-linkT17"
                                        smartracker="on">虾米</a></li>
            <li class="ui-link-item"><a href="http://www.aliyun.com/" target="_blank" title="阿里云计算"
                                        seed="grid990-linkT18" smartracker="on">阿里云计算</a></li>
            <li class="ui-link-item"><a href="http://www.yunos.com/" target="_blank" title="云OS" seed="grid990-linkT19"
                                        smartracker="on">云OS</a></li>
            <li class="ui-link-item"><a href="http://www.net.cn/" target="_blank" title="万网" seed="grid990-linkT20"
                                        smartracker="on">万网</a></li>
            <li class="ui-link-item"><a href="https://www.alipay.com/" target="_blank" title="支付宝"
                                        seed="grid990-linkT21" smartracker="on">支付宝</a></li>
            <li class="ui-link-item ui-link-item-last"><a href="https://www.laiwang.com/" target="_blank" title="来往"
                                                          seed="grid990-linkT22" smartracker="on">来往</a></li>
            <!-- XT:支付宝首页/默认频道/支付宝新首页结束:www.alipay.com/i/indexb.vm -->        </ul>
        <ul class="ui-link ui-link-bottom fn-clear">
            <li class="ui-link-item ui-link-item-last">支付宝版权所有 2004-2014 <a
                    href="http://fun.alipay.com/certificate/jyxkz.htm" target="_blank" seed="grid990-linkT6"
                    smartracker="on">ICP证: 浙B2-20120045</a></li>
        </ul>

    </div>
</div>
</body>
<script src="http://static.alipayobjects.com/seajs/1.2.1/sea.js" data-main="../static/global.js"></script>
<script>
    seajs.config({
        alias: {
            "$": 'jquery/jquery/1.7.2/jquery'
        }
    });
    //        seajs.use(['arale/autocomplete/1.2.3/autocomplete','$'], function(AutoComplete,$) {
    //          $('.logo').click(function (e) {
    //              $('body,html').animate({
    //                scrollTop: 0
    //          }, 500);
    //            e.preventDefault();
    //          });
    //            new AutoComplete({
    //                trigger: '#search',
    //                filter:"stringMatch",
    //                dataSource: [
    //"../about/about.html","../amg/dev-exp-doc.html","../amg/dev-guild.html","../amg/mobile-platform-grade.html","../amg/website-guild.html","../amteam/join.html","../amui/about.html","../amui/amui-doc.html","../amw/about.html","../amw/aw-doc.html","../default.html","ab-doc.html","about.html","jsapi-doc.html","share.html",
    //                ]
    //            }).render().on('itemSelect',function  (data) {
    //              window.location = data.matchKey;
    //            });
    //        });
    //解决nav中包含http或者https时候的bug
    seajs.use("$", function ($) {
//            console.log($);
        $('.nav a').on("click", function (e) {
//            e.preventDefault();
            var link = $(this).attr("href");
//            console.log(link);
            if (link.indexOf("http") == 0) {
                $(this).attr("target", "_blank");
                $(this).attr("href",link.replace("../", ""));
            }
        });
    });
</script>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1252894789'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s23.cnzz.com/z_stat.php%3Fid%3D1252894789%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));</script>
</html>