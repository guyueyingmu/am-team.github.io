<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>支付宝JSAPI</title><link rel="icon" href="https://i.alipayobjects.com/common/favicon/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="https://i.alipayobjects.com/common/favicon/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="/nebula/static/global.css"><link rel="stylesheet" href="https://os.alipayobjects.com/rmsportal/ijMlnBQKFrkzTED.css"><!--[if lt IE 9]>
  <script src="https://os.alipayobjects.com/rmsportal/??WxrBMYXmCAjTlqrCedpg.js,zWgsjIehCrgIoGKHhGru.js"></script>
  <![endif]--></head><body><nav class="navbar navbar-default my-main-nav" role="navigation"><div class="container-fluid"><div class="navbar-header"><h1 class="navbar-brand"><a href="/nebula/index.html"><span class="sr-only">蚂蚁金服</span>支付宝JSAPI</a></h1></div><button aria-label="菜单切换" class="navbar-toggle visible-xs-block js-toggle"><span class="glyphicon glyphicon-menu-hamburger" aria-hidden="true"></span></button><div class="navbar-collapse"><div class="search-bar"><input class="global-search search-box form-control" id="J_searchbox" placeholder="搜索文档"><div class="search-list" role="listbox"></div></div><ul class="nav navbar-nav navbar-right"><li class="active"><a href="/nebula/alipayjsapi/index.html">AlipayJSAPI</a></li><li><a href="/nebula/fe/preset-assets.html">前端开发</a></li><li><a href="/nebula/jsapi/index.html">JSAPI</a></li></ul></div></div></nav><div class="container-fluid main"><div class="my-sidebar"><h2 class="my-nav-title">AlipayJSAPI <span style="padding:0 3px;border-radius:3px;background:#0ae;font-size:12px;color:#fff">V3.0.0</span></h2><ul class="list-group"><li class="list-group-item active" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/index.html"><a href="/nebula/alipayjsapi/index.html">简介</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/changelog.html"><a href="/nebula/alipayjsapi/changelog.html">更新日志</a></li><li class="list-group-item"><label class="my-nav-group">网络请求</label><ul class="list-group"><li class="list-group-item my-nav-level2"><label class="my-nav-group">WebSocket</label><ul class="list-group"><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/network/webSocket/connectSocket.html"><a href="/nebula/alipayjsapi/network/webSocket/connectSocket.html">ap.connectSocket</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/network/webSocket/sendSocketMessage.html"><a href="/nebula/alipayjsapi/network/webSocket/sendSocketMessage.html">ap.sendSocketMessage</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/network/webSocket/closeSocket.html"><a href="/nebula/alipayjsapi/network/webSocket/closeSocket.html">ap.closeSocket</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/network/webSocket/onSocketOpen.html"><a href="/nebula/alipayjsapi/network/webSocket/onSocketOpen.html">ap.onSocketOpen</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/network/webSocket/onSocketClose.html"><a href="/nebula/alipayjsapi/network/webSocket/onSocketClose.html">ap.onSocketClose</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/network/webSocket/onSocketError.html"><a href="/nebula/alipayjsapi/network/webSocket/onSocketError.html">ap.onSocketError</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/network/webSocket/onSocketMessage.html"><a href="/nebula/alipayjsapi/network/webSocket/onSocketMessage.html">ap.onSocketMessage</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/network/webSocket/offSocketOpen.html"><a href="/nebula/alipayjsapi/network/webSocket/offSocketOpen.html">ap.offSocketOpen</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/network/webSocket/offSocketClose.html"><a href="/nebula/alipayjsapi/network/webSocket/offSocketClose.html">ap.offSocketClose</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/network/webSocket/offSocketError.html"><a href="/nebula/alipayjsapi/network/webSocket/offSocketError.html">ap.offSocketError</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/network/webSocket/offSocketMessage.html"><a href="/nebula/alipayjsapi/network/webSocket/offSocketMessage.html">ap.offSocketMessage</a></li></ul></li></ul></li><li class="list-group-item"><label class="my-nav-group">数据</label><ul class="list-group"></ul></li><li class="list-group-item"><label class="my-nav-group">媒体</label><ul class="list-group"><li class="list-group-item my-nav-level2"><label class="my-nav-group">图片</label><ul class="list-group"><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/media/image/chooseImage.html"><a href="/nebula/alipayjsapi/media/image/chooseImage.html">ap.chooseImage</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/media/image/compressImage.html"><a href="/nebula/alipayjsapi/media/image/compressImage.html">ap.compressImage</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/media/image/previewImage.html"><a href="/nebula/alipayjsapi/media/image/previewImage.html">ap.previewImage</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/media/image/saveImage.html"><a href="/nebula/alipayjsapi/media/image/saveImage.html">ap.saveImage</a></li></ul></li><li class="list-group-item my-nav-level2"><label class="my-nav-group">视频</label><ul class="list-group"><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/media/video/chooseVideo.html"><a href="/nebula/alipayjsapi/media/video/chooseVideo.html">ap.chooseVideo</a></li></ul></li><li class="list-group-item my-nav-level2"><label class="my-nav-group">音乐播放</label><ul class="list-group"><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/media/audio/playBackgroundAudio.html"><a href="/nebula/alipayjsapi/media/audio/playBackgroundAudio.html">ap.playBackgroundAudio</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/media/audio/pauseBackgroundAudio.html"><a href="/nebula/alipayjsapi/media/audio/pauseBackgroundAudio.html">ap.pauseBackgroundAudio</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/media/audio/seekBackgroundAudio.html"><a href="/nebula/alipayjsapi/media/audio/seekBackgroundAudio.html">ap.seekBackgroundAudio</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/media/audio/stopBackgroundAudio.html"><a href="/nebula/alipayjsapi/media/audio/stopBackgroundAudio.html">ap.stopBackgroundAudio</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/media/audio/getBackgroundAudioPlayerState.html"><a href="/nebula/alipayjsapi/media/audio/getBackgroundAudioPlayerState.html">ap.getBackgroundAudioPlayerState</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/media/audio/onBackgroundAudioPlay.html"><a href="/nebula/alipayjsapi/media/audio/onBackgroundAudioPlay.html">ap.onBackgroundAudioPlay</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/media/audio/onBackgroundAudioPause.html"><a href="/nebula/alipayjsapi/media/audio/onBackgroundAudioPause.html">ap.onBackgroundAudioPause</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/media/audio/onBackgroundAudioStop.html"><a href="/nebula/alipayjsapi/media/audio/onBackgroundAudioStop.html">ap.onBackgroundAudioStop</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/media/audio/offBackgroundAudioPlay.html"><a href="/nebula/alipayjsapi/media/audio/offBackgroundAudioPlay.html">ap.offBackgroundAudioPlay</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/media/audio/offBackgroundAudioPause.html"><a href="/nebula/alipayjsapi/media/audio/offBackgroundAudioPause.html">ap.offBackgroundAudioPause</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/media/audio/offBackgroundAudioStop.html"><a href="/nebula/alipayjsapi/media/audio/offBackgroundAudioStop.html">ap.offBackgroundAudioStop</a></li></ul></li><li class="list-group-item my-nav-level2"><label class="my-nav-group">文件</label><ul class="list-group"><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/media/file/uploadFile.html"><a href="/nebula/alipayjsapi/media/file/uploadFile.html">ap.uploadFile</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/media/file/downloadFile.html"><a href="/nebula/alipayjsapi/media/file/downloadFile.html">ap.downloadFile</a></li></ul></li></ul></li><li class="list-group-item"><label class="my-nav-group">位置</label><ul class="list-group"><li class="list-group-item my-nav-level2"><label class="my-nav-group">获取位置</label><ul class="list-group"><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/location/get/getLocation.html"><a href="/nebula/alipayjsapi/location/get/getLocation.html">ap.getLocation</a></li></ul></li><li class="list-group-item my-nav-level2"><label class="my-nav-group">查看位置</label><ul class="list-group"><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/location/open/openLocation.html"><a href="/nebula/alipayjsapi/location/open/openLocation.html">ap.openLocation</a></li></ul></li></ul></li><li class="list-group-item"><label class="my-nav-group">设备功能</label><ul class="list-group"><li class="list-group-item my-nav-level2"><label class="my-nav-group">网络状态</label><ul class="list-group"><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/network/getNetworkType.html"><a href="/nebula/alipayjsapi/device/network/getNetworkType.html">ap.getNetworkType</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/network/onNetworkChange.html"><a href="/nebula/alipayjsapi/device/network/onNetworkChange.html">ap.onNetworkChange</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/network/offNetworkChange.html"><a href="/nebula/alipayjsapi/device/network/offNetworkChange.html">ap.offNetworkChange</a></li></ul></li><li class="list-group-item my-nav-level2"><label class="my-nav-group">拨打电话</label><ul class="list-group"><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/call/makePhoneCall.html"><a href="/nebula/alipayjsapi/device/call/makePhoneCall.html">ap.makePhoneCall</a></li></ul></li><li class="list-group-item my-nav-level2"><label class="my-nav-group">扫码</label><ul class="list-group"><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/scan/scan.html"><a href="/nebula/alipayjsapi/device/scan/scan.html">ap.scan</a></li></ul></li><li class="list-group-item my-nav-level2"><label class="my-nav-group">摇一摇</label><ul class="list-group"><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/shake/watchShake.html"><a href="/nebula/alipayjsapi/device/shake/watchShake.html">ap.watchShake</a></li></ul></li><li class="list-group-item my-nav-level2"><label class="my-nav-group">蓝牙</label><ul class="list-group"><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/bluetooth/openBluetoothAdapter.html"><a href="/nebula/alipayjsapi/device/bluetooth/openBluetoothAdapter.html">ap.openBluetoothAdapter</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/bluetooth/closeBluetoothAdapter.html"><a href="/nebula/alipayjsapi/device/bluetooth/closeBluetoothAdapter.html">ap.closeBluetoothAdapter</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/bluetooth/getBluetoothAdapterState.html"><a href="/nebula/alipayjsapi/device/bluetooth/getBluetoothAdapterState.html">ap.getBluetoothAdapterState</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/bluetooth/startBluetoothDevicesDiscovery.html"><a href="/nebula/alipayjsapi/device/bluetooth/startBluetoothDevicesDiscovery.html">ap.startBluetoothDevicesDiscovery</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/bluetooth/stopBluetoothDevicesDiscovery.html"><a href="/nebula/alipayjsapi/device/bluetooth/stopBluetoothDevicesDiscovery.html">ap.stopBluetoothDevicesDiscovery</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/bluetooth/getBluetoothDevices.html"><a href="/nebula/alipayjsapi/device/bluetooth/getBluetoothDevices.html">ap.getBluetoothDevices</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/bluetooth/getConnectedBluetoothDevices.html"><a href="/nebula/alipayjsapi/device/bluetooth/getConnectedBluetoothDevices.html">ap.getConnectedBluetoothDevices</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/bluetooth/connectBLEDevice.html"><a href="/nebula/alipayjsapi/device/bluetooth/connectBLEDevice.html">ap.connectBLEDevice</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/bluetooth/disconnectBLEDevice.html"><a href="/nebula/alipayjsapi/device/bluetooth/disconnectBLEDevice.html">ap.disconnectBLEDevice</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/bluetooth/writeBLECharacteristicValue.html"><a href="/nebula/alipayjsapi/device/bluetooth/writeBLECharacteristicValue.html">ap.writeBLECharacteristicValue</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/bluetooth/readBLECharacteristicValue.html"><a href="/nebula/alipayjsapi/device/bluetooth/readBLECharacteristicValue.html">ap.readBLECharacteristicValue</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/bluetooth/notifyBLECharacteristicValueChange.html"><a href="/nebula/alipayjsapi/device/bluetooth/notifyBLECharacteristicValueChange.html">ap.notifyBLECharacteristicValueChange</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/bluetooth/getBLEDeviceServices.html"><a href="/nebula/alipayjsapi/device/bluetooth/getBLEDeviceServices.html">ap.getBLEDeviceServices</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/bluetooth/getBLEDeviceCharacteristics.html"><a href="/nebula/alipayjsapi/device/bluetooth/getBLEDeviceCharacteristics.html">ap.getBLEDeviceCharacteristics</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/bluetooth/onBluetoothDeviceFound.html"><a href="/nebula/alipayjsapi/device/bluetooth/onBluetoothDeviceFound.html">ap.onBluetoothDeviceFound</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/bluetooth/offBluetoothDeviceFound.html"><a href="/nebula/alipayjsapi/device/bluetooth/offBluetoothDeviceFound.html">ap.offBluetoothDeviceFound</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/bluetooth/onBLECharacteristicValueChange.html"><a href="/nebula/alipayjsapi/device/bluetooth/onBLECharacteristicValueChange.html">ap.onBLECharacteristicValueChange</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/bluetooth/offBLECharacteristicValueChange.html"><a href="/nebula/alipayjsapi/device/bluetooth/offBLECharacteristicValueChange.html">ap.offBLECharacteristicValueChange</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/bluetooth/onBLEConnectionStateChanged.html"><a href="/nebula/alipayjsapi/device/bluetooth/onBLEConnectionStateChanged.html">ap.onBLEConnectionStateChanged</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/bluetooth/offBLEConnectionStateChanged.html"><a href="/nebula/alipayjsapi/device/bluetooth/offBLEConnectionStateChanged.html">ap.offBLEConnectionStateChanged</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/bluetooth/onBluetoothAdapterStateChange.html"><a href="/nebula/alipayjsapi/device/bluetooth/onBluetoothAdapterStateChange.html">ap.onBluetoothAdapterStateChange</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/bluetooth/offBluetoothAdapterStateChange.html"><a href="/nebula/alipayjsapi/device/bluetooth/offBluetoothAdapterStateChange.html">ap.offBluetoothAdapterStateChange</a></li></ul></li><li class="list-group-item my-nav-level2"><label class="my-nav-group">震动</label><ul class="list-group"><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/vibrate/vibrate.html"><a href="/nebula/alipayjsapi/device/vibrate/vibrate.html">ap.vibrate</a></li></ul></li><li class="list-group-item my-nav-level2"><label class="my-nav-group">罗盘</label><ul class="list-group"><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/compass/onCompassChange.html"><a href="/nebula/alipayjsapi/device/compass/onCompassChange.html">ap.onCompassChange</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/compass/offCompassChange.html"><a href="/nebula/alipayjsapi/device/compass/offCompassChange.html">ap.offCompassChange</a></li></ul></li><li class="list-group-item my-nav-level2"><label class="my-nav-group">重力感应</label><ul class="list-group"><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/accelerometer/onAccelerometerChange.html"><a href="/nebula/alipayjsapi/device/accelerometer/onAccelerometerChange.html">ap.onAccelerometerChange</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/device/accelerometer/offAccelerometerChange.html"><a href="/nebula/alipayjsapi/device/accelerometer/offAccelerometerChange.html">ap.offAccelerometerChange</a></li></ul></li><li class="list-group-item my-nav-level2"><label class="my-nav-group">系统信息</label><ul class="list-group"></ul></li></ul></li><li class="list-group-item"><label class="my-nav-group">导航</label><ul class="list-group"><li class="list-group-item my-nav-level2"><label class="my-nav-group">窗口行为</label><ul class="list-group"><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/navigation/window/pushWindow.html"><a href="/nebula/alipayjsapi/navigation/window/pushWindow.html">ap.pushWindow</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/navigation/window/popWindow.html"><a href="/nebula/alipayjsapi/navigation/window/popWindow.html">ap.popWindow</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/navigation/window/popTo.html"><a href="/nebula/alipayjsapi/navigation/window/popTo.html">ap.popTo</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/navigation/window/redirectTo.html"><a href="/nebula/alipayjsapi/navigation/window/redirectTo.html">ap.redirectTo</a></li></ul></li><li class="list-group-item my-nav-level2"><label class="my-nav-group">窗口事件</label><ul class="list-group"><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/navigation/event/onResume.html"><a href="/nebula/alipayjsapi/navigation/event/onResume.html">ap.onResume</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/navigation/event/offResume.html"><a href="/nebula/alipayjsapi/navigation/event/offResume.html">ap.offResume</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/navigation/event/onPause.html"><a href="/nebula/alipayjsapi/navigation/event/onPause.html">ap.onPause</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/navigation/event/offPause.html"><a href="/nebula/alipayjsapi/navigation/event/offPause.html">ap.offPause</a></li></ul></li><li class="list-group-item my-nav-level2"><label class="my-nav-group">应用事件</label><ul class="list-group"><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/navigation/appevent/onAppPause.html"><a href="/nebula/alipayjsapi/navigation/appevent/onAppPause.html">ap.onAppPause</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/navigation/appevent/offAppPause.html"><a href="/nebula/alipayjsapi/navigation/appevent/offAppPause.html">ap.offAppPause</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/navigation/appevent/onAppResume.html"><a href="/nebula/alipayjsapi/navigation/appevent/onAppResume.html">ap.onAppResume</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/navigation/appevent/offAppResume.html"><a href="/nebula/alipayjsapi/navigation/appevent/offAppResume.html">ap.offAppResume</a></li></ul></li></ul></li><li class="list-group-item"><label class="my-nav-group">界面</label><ul class="list-group"><li class="list-group-item my-nav-level2"><label class="my-nav-group">界面提示</label><ul class="list-group"><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/ui/notice/alert.html"><a href="/nebula/alipayjsapi/ui/notice/alert.html">ap.alert</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/ui/notice/confirm.html"><a href="/nebula/alipayjsapi/ui/notice/confirm.html">ap.confirm</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/ui/notice/showToast.html"><a href="/nebula/alipayjsapi/ui/notice/showToast.html">ap.showToast</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/ui/notice/hideToast.html"><a href="/nebula/alipayjsapi/ui/notice/hideToast.html">ap.hideToast</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/ui/notice/showLoading.html"><a href="/nebula/alipayjsapi/ui/notice/showLoading.html">ap.showLoading</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/ui/notice/hideLoading.html"><a href="/nebula/alipayjsapi/ui/notice/hideLoading.html">ap.hideLoading</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/ui/notice/showActionSheet.html"><a href="/nebula/alipayjsapi/ui/notice/showActionSheet.html">ap.showActionSheet</a></li></ul></li><li class="list-group-item my-nav-level2"><label class="my-nav-group">导航栏</label><ul class="list-group"><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/ui/navigationbar/onTitleClick.html"><a href="/nebula/alipayjsapi/ui/navigationbar/onTitleClick.html">ap.onTitleClick</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/ui/navigationbar/setNavigationBar.html"><a href="/nebula/alipayjsapi/ui/navigationbar/setNavigationBar.html">ap.setNavigationBar</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/ui/navigationbar/offTitleClick.html"><a href="/nebula/alipayjsapi/ui/navigationbar/offTitleClick.html">ap.offTitleClick</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/ui/navigationbar/showNavigationBarLoading.html"><a href="/nebula/alipayjsapi/ui/navigationbar/showNavigationBarLoading.html">ap.showNavigationBarLoading</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/ui/navigationbar/hideNavigationBarLoading.html"><a href="/nebula/alipayjsapi/ui/navigationbar/hideNavigationBarLoading.html">ap.hideNavigationBarLoading</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/ui/navigationbar/setOptionButton.html"><a href="/nebula/alipayjsapi/ui/navigationbar/setOptionButton.html">ap.setOptionButton</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/ui/navigationbar/showOptionButton.html"><a href="/nebula/alipayjsapi/ui/navigationbar/showOptionButton.html">ap.showOptionButton</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/ui/navigationbar/showPopMenu.html"><a href="/nebula/alipayjsapi/ui/navigationbar/showPopMenu.html">ap.showPopMenu</a></li></ul></li><li class="list-group-item my-nav-level2"><label class="my-nav-group">分享</label><ul class="list-group"><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/ui/share/share.html"><a href="/nebula/alipayjsapi/ui/share/share.html">ap.share</a></li></ul></li><li class="list-group-item my-nav-level2"><label class="my-nav-group">选择联系人</label><ul class="list-group"><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/ui/contact/choosePhoneContact.html"><a href="/nebula/alipayjsapi/ui/contact/choosePhoneContact.html">ap.choosePhoneContact</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/ui/contact/chooseAlipayContact.html"><a href="/nebula/alipayjsapi/ui/contact/chooseAlipayContact.html">ap.chooseAlipayContact</a></li></ul></li><li class="list-group-item my-nav-level2"><label class="my-nav-group">选择城市</label><ul class="list-group"><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/ui/city/chooseCity.html"><a href="/nebula/alipayjsapi/ui/city/chooseCity.html">ap.chooseCity</a></li></ul></li><li class="list-group-item my-nav-level2"><label class="my-nav-group">选择日期</label><ul class="list-group"><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/ui/date/datePicker.html"><a href="/nebula/alipayjsapi/ui/date/datePicker.html">ap.datePicker</a></li></ul></li></ul></li><li class="list-group-item"><label class="my-nav-group">开放接口</label><ul class="list-group"><li class="list-group-item my-nav-level2"><label class="my-nav-group">支付</label><ul class="list-group"><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/util/pay/tradePay.html"><a href="/nebula/alipayjsapi/util/pay/tradePay.html">ap.tradePay</a></li></ul></li><li class="list-group-item my-nav-level2"><label class="my-nav-group">授权</label><ul class="list-group"><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/util/auth/getAuthCode.html"><a href="/nebula/alipayjsapi/util/auth/getAuthCode.html">ap.getAuthCode</a></li><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/util/auth/getAuthUserInfo.html"><a href="/nebula/alipayjsapi/util/auth/getAuthUserInfo.html">ap.getAuthUserInfo</a></li></ul></li><li class="list-group-item my-nav-level2"><label class="my-nav-group">服务器时间</label><ul class="list-group"><li class="list-group-item" data-path="alipayjsapi/index.md" menu-path="alipayjsapi/util/server/getServerTime.html"><a href="/nebula/alipayjsapi/util/server/getServerTime.html">ap.getServerTime</a></li></ul></li></ul></li></ul></div><div class="content-wrap"><div class="directory"><ul class="directory-list"><li class="directory-item level2 active"><a href="#关于 AlipayJSAPI">关于 AlipayJSAPI</a></li><li class="directory-item level3"><a href="#安装使用">安装使用</a></li><li class="directory-item level3"><a href="#快速开始">快速开始</a></li><li class="directory-item level2"><a href="#其他说明">其他说明</a></li><li class="directory-item level3"><a href="#接口约定">接口约定</a></li><li class="directory-item level3"><a href="#错误约定">错误约定</a></li></ul></div><div class="my-content" id="J_myContent"><h2 id="关于 AlipayJSAPI" class="title-entry">关于 AlipayJSAPI</h2><p>AlipayJSAPI 提供丰富的支付宝原生 API，可以方便调用支付宝提供的能力，达到媲美原生应用的体验，如页面跳转，支付功能等。</p><h3 id="安装使用" class="title-entry">安装使用</h3><ul><li><strong>页面引入：</strong><br><code>&lt;script src=&quot;https://a.alipayobjects.com/g/h5-lib/alipayjsapi/3.0.0/alipayjsapi.min.js&quot;&gt;&lt;/script&gt;</code></li></ul><p></p><h3 id="快速开始" class="title-entry">快速开始</h3><ul><li><strong>Promise 方式：</strong></li></ul><p></p><div class="code-wrap"><pre class="hljs"><code>ap.chooseImage()
  .then(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">result</span>)</span>{
    <span class="hljs-keyword">return</span> ap.uploadFile({
      <span class="hljs-attr">url</span>: <span class="hljs-string">'[请使用自己服务器地址]'</span>,
      <span class="hljs-attr">fileType</span>: <span class="hljs-string">'image'</span>,
      <span class="hljs-attr">fileName</span>: <span class="hljs-string">'file'</span>,
      <span class="hljs-attr">filePath</span>: result.apFilePaths[<span class="hljs-number">0</span>]
    });
  })
  .then(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">result</span>)</span>{
    <span class="hljs-keyword">return</span> ap.alert(<span class="hljs-string">'上传成功'</span>);
  })
  .catch(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    ap.showToast(<span class="hljs-string">'上传失败'</span>);
  });
</code></pre></div><ul><li><strong>回调方式：</strong></li></ul><p></p><div class="code-wrap"><pre class="hljs"><code>ap.chooseImage(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>)</span>{
  <span class="hljs-keyword">if</span>(res.apFilePaths &amp;&amp; res.apFilePaths.length &gt; <span class="hljs-number">0</span>) {
    ap.uploadFile({
      <span class="hljs-attr">url</span>: <span class="hljs-string">'[请使用自己服务器地址]'</span>,
      <span class="hljs-attr">fileType</span>: <span class="hljs-string">'image'</span>,
      <span class="hljs-attr">fileName</span>: <span class="hljs-string">'file'</span>,
      <span class="hljs-attr">filePath</span>: res.apFilePaths[<span class="hljs-number">0</span>],
      <span class="hljs-attr">success</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        ap.alert(<span class="hljs-string">'上传成功'</span>);
      },
      <span class="hljs-attr">fail</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        ap.showToast(<span class="hljs-string">'上传失败'</span>);
      }
    });
  }
});
</code></pre></div><div class="code-wrap"><pre class="hljs"><code>ap.confirm(<span class="hljs-string">'Hello AlipayJSAPI!'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">result</span>)</span>{
  ap.showToast(result.confirm ? <span class="hljs-string">'确定'</span> : <span class="hljs-string">'取消'</span>);
});
</code></pre></div><h2 id="其他说明" class="title-entry">其他说明</h2><h3 id="接口约定" class="title-entry">接口约定</h3><ul><li>ap.on 开头的 API 是监听某个事件发生的接口，接受一个 CALLBACK 函数作为参数。当该事件触发时，会调用 CALLBACK 函数。</li><li>ap.off 开头的 API 是移除相应事件监听函数的接口，若传入事件注册（ap.on）时的 CALLBACK 函数，即移除指定的监听函数。若不传入则移除此事件所有监听函数。</li><li>如未特殊约定，其他 API 接口都接收两个参数，一个 Object 类型的 OPTIONS 作为入参，OPTIONS 中可以指定 success / fail / complete 来接收接口调用结果；还有一个可选参数是 Function 类型的 CALLBACK，作为回调函数等同于 OPTIONS.complete。接口参数在文档里没有明确定义时，则无须传入。</li><li>回调函数的参数始终是 Object 类型，会返回接口调用的结果。注意，并不是每个接口都有回调函数，可在具体接口文档里查看是否定义。</li><li>有回调函数的接口均支持 Promise 风格调用。</li></ul><div class="table-responsive"><table class="table table-striped table-bordered table-hover"><thead><tr><th>名称</th><th>类型</th><th>必填</th><th>描述</th></tr></thead><tbody><tr><td>success</td><td>Function</td><td>否</td><td>接口调用成功的回调函数</td></tr><tr><td>fail</td><td>Function</td><td>否</td><td>接口调用失败的回调函数</td></tr><tr><td>complete</td><td>Function</td><td>否</td><td>接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table></div><h3 id="错误约定" class="title-entry">错误约定</h3><p>AlipayJSAPI 调用出错时 CALLBACK 回调函数的参数里会包含一个特殊的字段 error（Number 类型），作为 API 调用的错误码，示例:</p><div class="code-wrap"><pre class="hljs"><code>{
  <span class="hljs-attr">error</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">errorMessage</span>: <span class="hljs-string">'接口不存在'</span>
}
</code></pre></div><div class="table-responsive"><table class="table table-striped table-bordered table-hover"><thead><tr><th>error</th><th>描述</th></tr></thead><tbody><tr><td>1</td><td>接口不存在</td></tr><tr><td>2</td><td>参数无效</td></tr><tr><td>3</td><td>发生未知错误</td></tr><tr><td>4</td><td>接口无权限</td></tr></tbody></table></div><p></p></div></div><button aria-label="边栏切换" class="sidebar-toggle visible-xs-block js-sidebar-toggle"><span class="glyphicon glyphicon-th-large" aria-hidden="true"></span></button><div class="dimmer" role="presentation"></div></div><div class="container-fluid"><div class="copyright">Copyright @ 2016 杭州蚂蚁金服 ｜ ICP证浙B2-20160559</div></div><input type="hidden" value="/nebula/" id="js-root"><script src="https://os.alipayobjects.com/rmsportal/??fBwppBoXIKidETe.js,zpGDQEkJIvsvKIiMHRdj.js,hKQWxzKJYJLVXfH.js,JIMmGyRgrhqytqElKZRW.js,HPiRBqzDoYVDumq.js"></script><script src="https://a.alipayobjects.com/static/fastclick/1.0.6/fastclick.min.js"></script><script src="/nebula/static/app.js"></script><style>#J_cnzz~a{display:none}</style><script src="https://s11.cnzz.com/z_stat.php?id=1261676206&web_id=1261676206" language="JavaScript" id="J_cnzz"></script></body></html>