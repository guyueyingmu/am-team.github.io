<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>支付宝H5开放文档</title><link rel="icon" href="https://i.alipayobjects.com/common/favicon/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="https://i.alipayobjects.com/common/favicon/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="https://os.alipayobjects.com/s_dev/prod/open-nebula/global-8f849f8bf543eb0d5e73a659f8f3134b.css"><link rel="stylesheet" href="https://os.alipayobjects.com/rmsportal/ijMlnBQKFrkzTED.css"><!--[if lt IE 9]>
  <script src="https://os.alipayobjects.com/rmsportal/??WxrBMYXmCAjTlqrCedpg.js,zWgsjIehCrgIoGKHhGru.js"></script>
  <![endif]--></head><body><nav class="navbar navbar-default my-main-nav" role="navigation"><div class="container-fluid"><div class="navbar-header"><h1 class="navbar-brand"><a href="/nebula/index.html"><span class="sr-only">蚂蚁金服</span>支付宝H5开放文档</a></h1></div><button aria-label="菜单切换" class="navbar-toggle visible-xs-block js-toggle"><span class="glyphicon glyphicon-menu-hamburger" aria-hidden="true"></span></button><div class="navbar-collapse"><div class="search-bar"><input class="global-search search-box form-control" id="J_searchbox" placeholder="搜索文档"><div class="search-list" role="listbox"></div></div><ul class="nav navbar-nav navbar-right"><li><a href="/nebula/index.html">首页</a></li><li><a href="/nebula/alipayjsapi/index.html">AlipayJSAPI</a></li><li><a href="/nebula/fe/preset-assets.html">前端开发</a></li><li class="active"><a href="/nebula/jsapi/index.html">JSAPI</a></li><li><a href="/nebula/alipay-jsapi-manual.pdf" target="_blank">PDF版本</a></li></ul></div></div></nav><div class="container-fluid main"><div class="my-sidebar"><h2 class="my-nav-title">JSAPI</h2><ul class="list-group"><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/index.html"><a href="/nebula/jsapi/index.html">使用前必读</a></li><li class="list-group-item"><label class="my-nav-group">事件扩展</label><ul class="list-group"><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/events/alipay-js-bridge-ready.html"><a href="/nebula/jsapi/events/alipay-js-bridge-ready.html">AlipayJSBridgeReady</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/events/title-click.html"><a href="/nebula/jsapi/events/title-click.html">标题栏点击 titleClick</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/events/subtitle-click.html"><a href="/nebula/jsapi/events/subtitle-click.html">副标题栏点击 subtitleClick</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/events/pause.html"><a href="/nebula/jsapi/events/pause.html">页面压后台 pause</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/events/resume.html"><a href="/nebula/jsapi/events/resume.html">页面恢复运行 resume</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/events/option-menu.html"><a href="/nebula/jsapi/events/option-menu.html">右上角按钮点击 optionMenu</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/events/pop-menu-click.html"><a href="/nebula/jsapi/events/pop-menu-click.html">右上角菜单项点击 popMenuClick</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/events/h5-network-changed.html"><a href="/nebula/jsapi/events/h5-network-changed.html">网络环境变化 h5NetworkChange</a></li></ul></li></ul><li class="list-group-item"><label class="my-nav-group">页面上下文</label><ul class="list-group"><li class="list-group-item active" data-path="jsapi/context/push-window.md" menu-path="jsapi/context/push-window.html"><a href="/nebula/jsapi/context/push-window.html">打开新页面 pushWindow</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/context/pop-window.html"><a href="/nebula/jsapi/context/pop-window.html">关闭当前页面 popWindow</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/context/pop-to.html"><a href="/nebula/jsapi/context/pop-to.html">回退多个页面 popTo</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/context/exit-app.html"><a href="/nebula/jsapi/context/exit-app.html">退出当前应用 exitApp</a></li></ul></li><li class="list-group-item"><label class="my-nav-group">Native功能</label><ul class="list-group"><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/native/photo.html"><a href="/nebula/jsapi/native/photo.html">选照片 photo</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/native/date-picker.html"><a href="/nebula/jsapi/native/date-picker.html">日期时间选择 datePicker</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/native/image-viewer.html"><a href="/nebula/jsapi/native/image-viewer.html">图片预览 imageViewer</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/native/vibrate.html"><a href="/nebula/jsapi/native/vibrate.html">震动 vibrate</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/native/watch-shake.html"><a href="/nebula/jsapi/native/watch-shake.html">摇一摇 watchShake</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/native/get-location.html"><a href="/nebula/jsapi/native/get-location.html">地理位置 getLocation</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/native/get-cities.html"><a href="/nebula/jsapi/native/get-cities.html">城市选择列表 getCities</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/native/start-share.html"><a href="/nebula/jsapi/native/start-share.html">发起分享 startShare</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/native/contact.html"><a href="/nebula/jsapi/native/contact.html">选择联系人 contact</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/native/choose-contact.html"><a href="/nebula/jsapi/native/choose-contact.html">选择联系人 chooseContact</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/native/get-network-type.html"><a href="/nebula/jsapi/native/get-network-type.html">网络类型 getNetworkType</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/native/beehive-options-picker.html"><a href="/nebula/jsapi/native/beehive-options-picker.html">选择组件 beehiveOptionsPicker</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/native/trade-pay.html"><a href="/nebula/jsapi/native/trade-pay.html">快捷支付 tradePay</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/native/select-address.html"><a href="/nebula/jsapi/native/select-address.html">用户收货地址 selectAddress</a></li></ul></li><li class="list-group-item"><label class="my-nav-group">界面</label><ul class="list-group"><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/ui/showUCFailDialog.html"><a href="/nebula/jsapi/ui/showUCFailDialog.html">uc初始化异常提醒框 showUCFailDialog</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/ui/alert.html"><a href="/nebula/jsapi/ui/alert.html">警告框 alert</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/ui/confirm.html"><a href="/nebula/jsapi/ui/confirm.html">确认框 confirm</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/ui/prompt.html"><a href="/nebula/jsapi/ui/prompt.html">输入框弹窗 prompt</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/ui/toast.html"><a href="/nebula/jsapi/ui/toast.html">弱提示 toast</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/ui/action-sheet.html"><a href="/nebula/jsapi/ui/action-sheet.html">选择列表 actionSheet</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/ui/set-title.html"><a href="/nebula/jsapi/ui/set-title.html">设置标题 setTitle</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/ui/set-title-color.html"><a href="/nebula/jsapi/ui/set-title-color.html">设置标题颜色 setTitleColor</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/ui/set-bar-bottomline-color.html"><a href="/nebula/jsapi/ui/set-bar-bottomline-color.html">设置导航栏底部细线颜色 setBarBottomLineColor</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/ui/set-option-menu.html"><a href="/nebula/jsapi/ui/set-option-menu.html">设置右上角按钮 setOptionMenu</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/ui/set-toolbar-menu.html"><a href="/nebula/jsapi/ui/set-toolbar-menu.html">设置菜单项 setToolbarMenu</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/ui/show-option-menu.html"><a href="/nebula/jsapi/ui/show-option-menu.html">显示右上角按钮 showOptionMenu</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/ui/hide-option-menu.html"><a href="/nebula/jsapi/ui/hide-option-menu.html">隐藏右上角按钮 hideOptionMenu</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/ui/show-pop-menu.html"><a href="/nebula/jsapi/ui/show-pop-menu.html">显示弹出菜单 showPopMenu</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/ui/show-loading.html"><a href="/nebula/jsapi/ui/show-loading.html">显示加载中 showLoading</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/ui/hide-loading.html"><a href="/nebula/jsapi/ui/hide-loading.html">隐藏加载中 hideLoading</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/ui/show-title-loading.html"><a href="/nebula/jsapi/ui/show-title-loading.html">显示标题栏加载中 showTitleLoading</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/ui/tab-bar.html"><a href="/nebula/jsapi/ui/tab-bar.html">tabBar控件 tabBar</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/ui/hide-title-loading.html"><a href="/nebula/jsapi/ui/hide-title-loading.html">隐藏标题栏加载中 hideTitleLoading</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/ui/custom-keyboard.html"><a href="/nebula/jsapi/ui/custom-keyboard.html">自定义键盘</a></li></ul></li><li class="list-group-item"><label class="my-nav-group">工具类</label><ul class="list-group"><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/util/set-session-data.html"><a href="/nebula/jsapi/util/set-session-data.html">设置会话数据 setSessionData</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/util/get-server-time.html"><a href="/nebula/jsapi/util/get-server-time.html">获取服务器时间 getServerTime</a></li><li class="list-group-item" data-path="jsapi/context/push-window.md" menu-path="jsapi/util/get-session-data.html"><a href="/nebula/jsapi/util/get-session-data.html">获取会话数据 getSessionData</a></li></ul></li><li class="list-group-item"><label class="my-nav-group">多媒体</label><ul class="list-group"></ul></li></div><div class="content-wrap"><div class="directory"><ul class="directory-list"><li class="directory-item level1 active"><a href="#pushWindow">pushWindow</a></li><li class="directory-item level2"><a href="#使用方法">使用方法</a></li><li class="directory-item level2"><a href="#代码演示">代码演示</a></li><li class="directory-item level3"><a href="#打开淘宝首页，去除右边菜单">打开淘宝首页，去除右边菜单</a></li><li class="directory-item level3"><a href="#用schema的方式打开页面">用schema的方式打开页面</a></li><li class="directory-item level3"><a href="#打开时设置透明标题栏">打开时设置透明标题栏</a></li><li class="directory-item level2"><a href="#API">API</a></li><li class="directory-item level3"><a href="#入参">入参</a></li><li class="directory-item level3"><a href="#param参数详解">param参数详解</a></li><li class="directory-item level3"><a href="#pushWindow参数默认继承">pushWindow参数默认继承</a></li><li class="directory-item level2"><a href="#如何正确理解pushWindow与location.href">如何正确理解pushWindow与location.href</a></li><li class="directory-item level2"><a href="#使用注意">使用注意</a></li></ul></div><div class="my-content" id="J_myContent"><h1 id="pushWindow" class="title-entry">pushWindow</h1><p>pushWindow用来打开一个新的页面，自带转场动画。</p><p>与location.href的区别，类同于PC浏览器的新开标签页，每个window都是一个新的标签页，因此原页面仅仅是被压到后台，状态始终保持，JS也会继续运行。</p><h2 id="使用方法" class="title-entry">使用方法</h2><div class="code-wrap"><pre class="hljs"><code><span class="hljs-comment">// 打开淘宝首页，自动读取title，并且去除右边菜单</span>
AlipayJSBridge.call(<span class="hljs-string">'pushWindow'</span>, {
  <span class="hljs-attr">url</span>: <span class="hljs-string">'https://m.taobao.com/'</span>,
  <span class="hljs-attr">param</span>: {
    <span class="hljs-attr">readTitle</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">showOptionMenu</span>: <span class="hljs-literal">false</span>
  }
});
</code></pre></div><h2 id="代码演示" class="title-entry">代码演示</h2><h3 id="打开淘宝首页，去除右边菜单" class="title-entry">打开淘宝首页，去除右边菜单</h3><div class="demo-wrap"><pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>打开淘宝首页<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-default J_demo"</span>&gt;</span>执行<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ready</span>(<span class="hljs-params">callback</span>) </span>{
  <span class="hljs-comment">// 如果jsbridge已经注入则直接调用</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.AlipayJSBridge) {
    callback &amp;&amp; callback();
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// 如果没有注入则监听注入的事件</span>
    <span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">'AlipayJSBridgeReady'</span>, callback, <span class="hljs-literal">false</span>);
  }
}
ready(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'a'</span>).addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-comment">// 打开淘宝首页，自动读取title，并且去除右边菜单</span>
    AlipayJSBridge.call(<span class="hljs-string">'pushWindow'</span>, {
      <span class="hljs-attr">url</span>: <span class="hljs-string">'https://m.taobao.com/'</span>,
      <span class="hljs-attr">param</span>: {
        <span class="hljs-attr">readTitle</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">showOptionMenu</span>: <span class="hljs-literal">false</span>
      }
    });
  });
});
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre><div class="demo-actions"><a class="btn btn-primary visible-xs js-demo" href="/nebula/jsapi/context/push-window-basic.html">查看演示</a></div><div class="qrcode-handle"><div class="qrcode-toggle"><span class="glyphicon glyphicon-qrcode"></span><span> 扫码查看</span></div><div class="qrcode-wrap"><a href="/nebula/jsapi/context/push-window-basic.html" target="_blank" class="J_qrcode">用支付宝扫码运行</a><div class="qrcode"></div></div></div></div><h3 id="用schema的方式打开页面" class="title-entry">用schema的方式打开页面</h3><p>9.9.5开始支持，此前使用该方式会导致先打开一个空白页面。</p><div class="demo-wrap"><pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>打开指定app<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-default J_demo"</span>&gt;</span>执行<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ready</span>(<span class="hljs-params">callback</span>) </span>{
  <span class="hljs-comment">// 如果jsbridge已经注入则直接调用</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.AlipayJSBridge) {
    callback &amp;&amp; callback();
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// 如果没有注入则监听注入的事件</span>
    <span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">'AlipayJSBridgeReady'</span>, callback, <span class="hljs-literal">false</span>);
  }
}
ready(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'a'</span>).addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    AlpayJSBridge.call(<span class="hljs-string">'pushWindow'</span>, {
      <span class="hljs-attr">url</span>: <span class="hljs-string">'alipays://platformapi/startapp?appId=20000981'</span>,
    });
  });
});
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre><div class="demo-actions"><a class="btn btn-primary visible-xs js-demo" href="/nebula/jsapi/context/push-window-schema.html">查看演示</a></div><div class="qrcode-handle"><div class="qrcode-toggle"><span class="glyphicon glyphicon-qrcode"></span><span> 扫码查看</span></div><div class="qrcode-wrap"><a href="/nebula/jsapi/context/push-window-schema.html" target="_blank" class="J_qrcode">用支付宝扫码运行</a><div class="qrcode"></div></div></div></div><h3 id="打开时设置透明标题栏" class="title-entry">打开时设置透明标题栏</h3><div class="demo-wrap"><pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>打开淘宝首页<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-default J_demo"</span>&gt;</span>执行<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ready</span>(<span class="hljs-params">callback</span>) </span>{
  <span class="hljs-comment">// 如果jsbridge已经注入则直接调用</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.AlipayJSBridge) {
    callback &amp;&amp; callback();
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// 如果没有注入则监听注入的事件</span>
    <span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">'AlipayJSBridgeReady'</span>, callback, <span class="hljs-literal">false</span>);
  }
}
ready(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'a'</span>).addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    AlipayJSBridge.call(<span class="hljs-string">'pushWindow'</span>, {
      <span class="hljs-attr">url</span>: <span class="hljs-string">'https://m.taobao.com'</span>,
      <span class="hljs-attr">param</span>: {
        <span class="hljs-attr">transparentTitle</span>: <span class="hljs-string">'auto'</span>
      }
    });
  });
});
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre><div class="demo-actions"><a class="btn btn-primary visible-xs js-demo" href="/nebula/jsapi/context/push-window-transparent-title.html">查看演示</a></div><div class="qrcode-handle"><div class="qrcode-toggle"><span class="glyphicon glyphicon-qrcode"></span><span> 扫码查看</span></div><div class="qrcode-wrap"><a href="/nebula/jsapi/context/push-window-transparent-title.html" target="_blank" class="J_qrcode">用支付宝扫码运行</a><div class="qrcode"></div></div></div></div><h2 id="API" class="title-entry">API</h2><div class="code-wrap"><pre class="hljs"><code>AlipayJSBridge.call(<span class="hljs-string">'pushWindow'</span>, {
  url, param
})
</code></pre></div><h3 id="入参" class="title-entry">入参</h3><div class="table-responsive"><table class="table table-striped table-bordered table-hover"><thead><tr><th>名称</th><th>类型</th><th>描述</th><th>必选</th><th>默认值</th><th>版本</th></tr></thead><tbody><tr><td>url</td><td>string</td><td>要打开的url</td><td>Y</td><td></td><td></td></tr><tr><td>param</td><td>dictionary</td><td>支持的key/value对下面的表格</td><td>N</td><td>{}</td><td></td></tr></tbody></table></div><h3 id="param参数详解" class="title-entry">param参数详解</h3><div class="table-responsive"><table class="table table-striped table-bordered table-hover"><thead><tr><th>名称</th><th>类型</th><th>描述</th><th>默认值</th><th>版本</th></tr></thead><tbody><tr><td>defaultTitle</td><td>string</td><td>默认标题, 在页面第一次加载之前显示在标题栏上</td><td>‘’</td><td></td></tr><tr><td>showLoading</td><td>bool</td><td>是否在页面加载前显示全局菊花</td><td>false</td><td></td></tr><tr><td>readTitle</td><td>bool</td><td>是否读取网页标题显示在titleBar上</td><td>true</td><td></td></tr><tr><td>pullRefresh</td><td>bool</td><td>是否支持下拉刷新<br>只有集团域/本地文件允许设置为true</td><td>false</td><td>since 8.2</td></tr><tr><td>toolbarMenu</td><td>string</td><td>JSON字符串，更多的菜单项列表（放在分享、字号、复制链接后面）<br>例：{“menus”:[{“name”:”恭喜”,”icon”:”H5Service.bundle/h5_popovermenu_share”,”action”:”hello”},{“name”:”发财”,”icon”:”H5Service.bundle/h5_popovermenu_abuse”,”action”:”world”}]}</td><td>‘’</td><td>since 8.2</td></tr><tr><td>canPullDown</td><td>bool</td><td>页面是否支持下拉（显示出黑色背景或者域名）<br>只有<em>.alipay.com/</em>.alipay.net/本地文件允许设置为false<br>9.9.5废弃， 使用’allowsBounceVertical’替代</td><td>true</td><td>android since 8.3<br>ios since 8.4，</td></tr><tr><td>allowsBounceVertical</td><td>bool</td><td>页面是否支持纵向拽拉超出实际内容，android只支持下拉（显示出背景或者域名）<br>只有<em>.alipay.com/</em>.alipay.net/本地文件允许设置为false</td><td>true</td><td>since 9.9.3</td></tr><tr><td>bounceTopColor</td><td>int</td><td>下拉超出时，顶部间缝颜色（十进制，例如：bc=16775138）</td><td>不设置时与9.9.3之前显示一致</td><td>since 9.9.3</td></tr><tr><td>bounceBottomColor</td><td>int</td><td>上拉超出时，底部间缝颜色（十进制，例如：bc=16775138）</td><td>不设置时与9.9.3之前显示一致</td><td>since 9.9.3(only IOS)</td></tr><tr><td>showTitleLoading</td><td>bool</td><td>是否在TitleBar的标题左边显示小菊花</td><td>false</td><td>since 8.6</td></tr><tr><td>preRpc</td><td>string</td><td>在页面启动参数里配置rpc请求的参数preRpc（需要使用utf-8编码），在打开页面的同时请求rpc。详细使用参考RPC接口介绍</td><td></td><td>since 9.3</td></tr><tr><td>delayRender</td><td>bool</td><td>是否启动延迟渲染功能<br>注：本功能目前由线上开关控制，若线上开关打开，且指定启动参数为YES或TRUE则生效</td><td>false</td><td>since 9.3.1(only Android)</td></tr><tr><td>transparentTitle</td><td>bool</td><td>(不能与titleBarColor同时使用)<br>always/auto 如果transparentTitle为字符串always，则当前页面上下滚动时，titlebar一直全透明；<br>当transparentTitle值为auto，当页面往下滚动时，透明度不断增加，直到scrollTop等于80pt时变成完全不透明，此时页面再往上滚动则反之，透明度不断减小直到回到顶部时变成完全不透明。<br>如果个页面不需要透明效果，则需要用pushWindow的param参数重新指定transparentTitle为”none”</td><td>‘’</td><td>since 9.5.1</td></tr><tr><td>titleBarColor</td><td>int</td><td>(9.9版本以下不能与transparentTitle同时使用)自定义titlebar的背景色，（十进制，例如：bc=16775138）</td><td></td><td></td></tr><tr><td>scrollDistance</td><td>int</td><td>在 transparentTitle auto的情况下，滑动到透明度为0.96的距离</td><td>iOS(80)</td><td>since 9.9</td></tr><tr><td>startMultApp</td><td>bool</td><td>是否启动相同appID的应用</td><td>false</td><td>since 9.9</td></tr><tr><td>titleImage</td><td>string</td><td>所要使用的title图片地址，请上传一张3X PNG 图，只影响当前的VC，pushWindow不会自动传递此参数，为了更好的体验可以把图放在全局运营资源包中</td><td>‘’</td><td>since 9.9.5</td></tr><tr><td>closeCurrentWindow</td><td>bool</td><td>打开窗口的同时，关闭当前window。<strong>警告：iOS上发现有缺陷:被打开的新页面会导致无法再通过exitApp或startApp+closeCurrentApp来关闭，这种使用场景请勿使用pushWindow+closeCurrentWindow</strong></td><td>false</td><td>since 9.9.2</td></tr></tbody></table></div><p></p><h3 id="pushWindow参数默认继承" class="title-entry">pushWindow参数默认继承</h3><div class="table-responsive"><table class="table table-striped table-bordered table-hover"><thead><tr><th>名称</th><th>继承</th><th>备注</th></tr></thead><tbody><tr><td>url</td><td>Y</td><td></td></tr><tr><td>defaultTitle</td><td>Y</td><td></td></tr><tr><td>backBehavior</td><td>Y</td><td>优先用户指定,否则pop</td></tr><tr><td>showLoading</td><td>Y</td><td></td></tr><tr><td>readTitle</td><td>Y</td><td></td></tr><tr><td>pullRefresh</td><td>Y</td><td></td></tr><tr><td>toolbarMenu</td><td>Y</td><td></td></tr><tr><td>showProgress</td><td>Y</td><td></td></tr><tr><td>defaultSubtitle</td><td>Y</td><td></td></tr><tr><td>backgroundColor</td><td>Y</td><td></td></tr><tr><td>canPullDown</td><td>Y</td><td></td></tr><tr><td>showOptionMenu</td><td>Y</td><td></td></tr><tr><td>showTitleLoading</td><td>Y</td><td></td></tr><tr><td>showDomain</td><td>Y</td><td></td></tr></tbody></table></div><h2 id="如何正确理解pushWindow与location.href" class="title-entry">如何正确理解pushWindow与location.href</h2><blockquote><p>许多新手都会不太理解pushWindow和location.href的区别，同时也会疑惑为什么resume没有被触发之类的问题。 本篇话题只需要几分钟就能把这几个功能解释清楚。</p></blockquote><ul><li>首先把Nebula容器理解为一个PC浏览器。</li><li>「Window」可以理解为「标签页」；location.href就是正常的a标签跳转。</li><li>pushWindow实际上就是新开了一个「标签页」，并且把之前那一页压到下面，push出来的这页放在顶层展现。此时被压到下面的上一页所有状态均保留。</li><li>location.href就是依然停留在这个「标签页」，直接做页面跳转</li><li>当pushWindow出来的「标签页」被关闭(pop)时，如果之前还有window存在，那么之前那个window就会恢复显示，并触发resume</li></ul><h2 id="使用注意" class="title-entry">使用注意</h2><ul><li><code>pushWindow</code>打开url页面的时候不会关闭已经存在的页面，注意打开个数，不要开太多影响性能。<strong>建议同一个应用<code>pushWindow</code>层级不要超过5层，否则会影响用户体验以及有可能导致应用crash</strong>。</li><li><code>pushWindow</code>打开schema页面的时候会关闭这个appId已经存在的所有页面，然后打开一个新的。 比如已经打开了200000981，然后再使用<code>pushWindow</code>打开这个appId，那么当前的20000981页面会被关闭</li><li>使用schema的时候，假如参数不生效，请不要担心，因为每个app有配置会覆盖传入的参数。 比如上述的20000981，传入<code>transparentTitle: &#39;auto&#39;</code>是没有效果的。</li><li>9.9.2版本开始，可以使用<code>closeCurrentWindow</code>参数来替代<code>window.location.href</code>跳转,而且有动画效果支持，这样可以实现关闭当前window的同时打开一个新页面。但在iOS发现有缺陷，被打开的新页面会导致无法再通过exitApp或startApp+closeCurrentApp来关闭自身，这种使用场景请勿使用pushWindow+closeCurrentWindow。</li></ul><a class="my-pdf-link" target="blank" href="./push-window.html.pdf">查看PDF版本</a></div></div><button aria-label="边栏切换" class="sidebar-toggle visible-xs-block js-sidebar-toggle"><span class="glyphicon glyphicon-th-large" aria-hidden="true"></span></button><div class="dimmer" role="presentation"></div></div><div class="container-fluid"><div class="copyright">Copyright @ 2017 杭州蚂蚁金服 ｜ ICP证浙B2-20160559</div></div><input type="hidden" value="/nebula/" id="js-root"><script src="https://os.alipayobjects.com/rmsportal/??fBwppBoXIKidETe.js,zpGDQEkJIvsvKIiMHRdj.js,hKQWxzKJYJLVXfH.js,JIMmGyRgrhqytqElKZRW.js,HPiRBqzDoYVDumq.js"></script><script src="https://a.alipayobjects.com/static/fastclick/1.0.6/fastclick.min.js"></script><script src="https://os.alipayobjects.com/s_dev/prod/open-nebula/app-8fe2020e404041f1f673fb043222198e.js"></script><style>#J_cnzz~a{display:none}</style><script src="https://s11.cnzz.com/z_stat.php?id=1261676206&web_id=1261676206" language="JavaScript" id="J_cnzz"></script></body></html>