<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>支付宝JSAPI</title><link rel="icon" href="https://i.alipayobjects.com/common/favicon/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="https://i.alipayobjects.com/common/favicon/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="/nebula/static/global.css"><link rel="stylesheet" href="https://os.alipayobjects.com/rmsportal/ijMlnBQKFrkzTED.css"><!--[if lt IE 9]>
  <script src="https://os.alipayobjects.com/rmsportal/??WxrBMYXmCAjTlqrCedpg.js,zWgsjIehCrgIoGKHhGru.js"></script>
  <![endif]--></head><body><nav class="navbar navbar-default my-main-nav" role="navigation"><div class="container-fluid"><div class="navbar-header"><h1 class="navbar-brand"><a href="/nebula/index.html"><span class="sr-only">蚂蚁金服</span>支付宝JSAPI</a></h1></div><button aria-label="菜单切换" class="navbar-toggle visible-xs-block js-toggle"><span class="glyphicon glyphicon-menu-hamburger" aria-hidden="true"></span></button><div class="navbar-collapse"><div class="search-bar"><input class="global-search search-box form-control" id="J_searchbox" placeholder="搜索文档"><div class="search-list" role="listbox"></div></div><ul class="nav navbar-nav navbar-right"><li><a href="/nebula/fe/preset-assets.html">前端开发</a></li><li class="active"><a href="/nebula/jsapi/index.html">JSAPI</a></li></ul></div></div></nav><div class="container-fluid main"><div class="my-sidebar"><h2 class="my-nav-title">JSAPI</h2><ul class="list-group"><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/index.html"><a href="/nebula/jsapi/index.html">使用前必读</a></li><li class="list-group-item"><label class="my-nav-group">事件扩展</label><ul class="list-group"><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/events/alipay-js-bridge-ready.html"><a href="/nebula/jsapi/events/alipay-js-bridge-ready.html">AlipayJSBridgeReady</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/events/title-click.html"><a href="/nebula/jsapi/events/title-click.html">标题栏点击 titleClick</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/events/subtitle-click.html"><a href="/nebula/jsapi/events/subtitle-click.html">副标题栏点击 subtitleClick</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/events/pause.html"><a href="/nebula/jsapi/events/pause.html">页面压后台 pause</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/events/resume.html"><a href="/nebula/jsapi/events/resume.html">页面恢复运行 resume</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/events/option-menu.html"><a href="/nebula/jsapi/events/option-menu.html">右上角按钮点击 optionMenu</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/events/pop-menu-click.html"><a href="/nebula/jsapi/events/pop-menu-click.html">右上角菜单项点击 popMenuClick</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/events/h5-network-changed.html"><a href="/nebula/jsapi/events/h5-network-changed.html">网络环境变化 h5NetworkChange</a></li></ul></li></ul><li class="list-group-item"><label class="my-nav-group">页面上下文</label><ul class="list-group"><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/context/push-window.html"><a href="/nebula/jsapi/context/push-window.html">打开新页面 pushWindow</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/context/pop-window.html"><a href="/nebula/jsapi/context/pop-window.html">关闭当前页面 popWindow</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/context/pop-to.html"><a href="/nebula/jsapi/context/pop-to.html">回退多个页面 popTo</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/context/exit-app.html"><a href="/nebula/jsapi/context/exit-app.html">退出当前应用 exitApp</a></li></ul></li><li class="list-group-item"><label class="my-nav-group">Native功能</label><ul class="list-group"><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/native/photo.html"><a href="/nebula/jsapi/native/photo.html">选照片 photo</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/native/date-picker.html"><a href="/nebula/jsapi/native/date-picker.html">日期时间选择 datePicker</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/native/image-viewer.html"><a href="/nebula/jsapi/native/image-viewer.html">图片预览 imageViewer</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/native/vibrate.html"><a href="/nebula/jsapi/native/vibrate.html">震动 vibrate</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/native/watch-shake.html"><a href="/nebula/jsapi/native/watch-shake.html">摇一摇 watchShake</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/native/get-location.html"><a href="/nebula/jsapi/native/get-location.html">地理位置 getLocation</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/native/get-cities.html"><a href="/nebula/jsapi/native/get-cities.html">城市选择列表 getCities</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/native/start-share.html"><a href="/nebula/jsapi/native/start-share.html">发起分享 startShare</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/native/contact.html"><a href="/nebula/jsapi/native/contact.html">选择联系人 contact</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/native/choose-contact.html"><a href="/nebula/jsapi/native/choose-contact.html">选择联系人 chooseContact</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/native/get-network-type.html"><a href="/nebula/jsapi/native/get-network-type.html">网络类型 getNetworkType</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/native/beehive-options-picker.html"><a href="/nebula/jsapi/native/beehive-options-picker.html">选择组件 beehiveOptionsPicker</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/native/trade-pay.html"><a href="/nebula/jsapi/native/trade-pay.html">快捷支付 tradePay</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/native/select-address.html"><a href="/nebula/jsapi/native/select-address.html">用户收货地址 selectAddress</a></li></ul></li><li class="list-group-item"><label class="my-nav-group">界面</label><ul class="list-group"><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/ui/alert.html"><a href="/nebula/jsapi/ui/alert.html">警告框 alert</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/ui/confirm.html"><a href="/nebula/jsapi/ui/confirm.html">确认框 confirm</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/ui/prompt.html"><a href="/nebula/jsapi/ui/prompt.html">输入框弹窗 prompt</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/ui/toast.html"><a href="/nebula/jsapi/ui/toast.html">弱提示 toast</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/ui/action-sheet.html"><a href="/nebula/jsapi/ui/action-sheet.html">选择列表 actionSheet</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/ui/set-title.html"><a href="/nebula/jsapi/ui/set-title.html">设置标题 setTitle</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/ui/set-option-menu.html"><a href="/nebula/jsapi/ui/set-option-menu.html">设置右上角按钮 setOptionMenu</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/ui/set-bar-bottomline-color.html"><a href="/nebula/jsapi/ui/set-bar-bottomline-color.html">设置导航栏底部细线颜色 setBarBottomLineColor</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/ui/set-title-color.html"><a href="/nebula/jsapi/ui/set-title-color.html">设置标题颜色 setTitleColor</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/ui/set-toolbar-menu.html"><a href="/nebula/jsapi/ui/set-toolbar-menu.html">设置菜单项 setToolbarMenu</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/ui/show-option-menu.html"><a href="/nebula/jsapi/ui/show-option-menu.html">显示右上角按钮 showOptionMenu</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/ui/hide-option-menu.html"><a href="/nebula/jsapi/ui/hide-option-menu.html">隐藏右上角按钮 hideOptionMenu</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/ui/show-pop-menu.html"><a href="/nebula/jsapi/ui/show-pop-menu.html">显示弹出菜单 showPopMenu</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/ui/show-loading.html"><a href="/nebula/jsapi/ui/show-loading.html">显示加载中 showLoading</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/ui/hide-loading.html"><a href="/nebula/jsapi/ui/hide-loading.html">隐藏加载中 hideLoading</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/ui/show-title-loading.html"><a href="/nebula/jsapi/ui/show-title-loading.html">显示标题栏加载中 showTitleLoading</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/ui/tab-bar.html"><a href="/nebula/jsapi/ui/tab-bar.html">tabBar控件 tabBar</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/ui/hide-title-loading.html"><a href="/nebula/jsapi/ui/hide-title-loading.html">隐藏标题栏加载中 hideTitleLoading</a></li><li class="list-group-item active" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/ui/custom-keyboard.html"><a href="/nebula/jsapi/ui/custom-keyboard.html">自定义键盘</a></li></ul></li><li class="list-group-item"><label class="my-nav-group">工具类</label><ul class="list-group"><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/util/set-session-data.html"><a href="/nebula/jsapi/util/set-session-data.html">设置会话数据 setSessionData</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/util/get-server-time.html"><a href="/nebula/jsapi/util/get-server-time.html">获取服务器时间 getServerTime</a></li><li class="list-group-item" data-path="jsapi/ui/custom-keyboard.md" menu-path="jsapi/util/get-session-data.html"><a href="/nebula/jsapi/util/get-session-data.html">获取会话数据 getSessionData</a></li></ul></li><li class="list-group-item"><label class="my-nav-group">多媒体</label><ul class="list-group"></ul></li></div><div class="content-wrap"><div class="directory"><ul class="directory-list"><li class="directory-item level1 active"><a href="#自定义键盘">自定义键盘</a></li><li class="directory-item level3"><a href="#iOS">iOS</a></li><li class="directory-item level3"><a href="#回调事件">回调事件</a></li><li class="directory-item level2"><a href="#使用方法">使用方法</a></li><li class="directory-item level2"><a href="#代码演示">代码演示</a></li><li class="directory-item level3"><a href="#基本功能">基本功能</a></li><li class="directory-item level3"><a href="#Android">Android</a></li><li class="directory-item level3"><a href="#Android数字键盘demo">Android数字键盘demo</a></li></ul></div><div class="my-content" id="J_myContent"><div class="my-api-status"><span>Since </span><span class="my-since-version">8.6</span></div><h1 id="自定义键盘" class="title-entry">自定义键盘</h1><p>自定义键盘使用：Android和ios方案不一样，Android支持直接通过原生的input输入框唤起，ios通过jsapi唤起</p><h3 id="iOS" class="title-entry">iOS</h3><ul><li>前端DOM结构</li></ul><div class="code-wrap"><pre class="hljs"><code><span class="hljs-tag">&lt; <span class="hljs-attr">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"h5numInput"</span> <span class="hljs-attr">kb-type</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">data-paste</span>=<span class="hljs-string">"false"</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"8"</span> <span class="hljs-attr">data-placeholder</span>=<span class="hljs-string">"这里调用数字键盘"</span> /&gt;</span>
- type： 支持 type="password"
- class="h5numInput" 标识页面初始化加载就调用自定义键盘;
- kb-type：(9.9.1之后开始支持别名data-kb-type)需要调用的键盘类型，`0`为数字键盘，`1`为身份证键盘，`2`为不带小数点的键盘，不写该属性默认为数字键盘；键盘类型随时可扩展；
- data-paste: 若为 false 则不能进行粘贴，默认为 true;
- data-placeholder：需要显示的提示信息，不能只写placeholder；
- maxlength:最大长度
- 居左、中、右对齐：添加 css的 text-align，支持 left，center，right，justify，默认为 left
</code></pre></div><ul><li>ios数字键盘相关 API（只有ios有，android不支持）</li></ul><p>numInput：用于手动调用自定义键盘</p><div class="code-wrap"><pre class="hljs"><code>AlipayJSBridge.call(<span class="hljs-string">'numInput'</span>);
</code></pre></div><p>inputFocus：用于当前端校验某input 有问题， focus 到 input 输入框</p><div class="code-wrap"><pre class="hljs"><code>AlipayJSBridge.call(<span class="hljs-string">'inputFocus'</span>, {
  <span class="hljs-attr">index</span>: index <span class="hljs-comment">//用于 focus 的某 input，从0开始（带有class含h5numInput的输入框）</span>
});
</code></pre></div><p>inputBackFill：用于当前端去除无用值，返回正确的值给 native（since 9.0）</p><div class="code-wrap"><pre class="hljs"><code>AlipayJSBridge.call(<span class="hljs-string">'inputBackFill'</span>, {
  <span class="hljs-attr">index</span>: index, <span class="hljs-comment">//用于回填的某 input，从0开始（带有class含h5numInput的输入框）</span>
  value: <span class="hljs-number">111</span>
});
</code></pre></div><p>numInputReset：用于重新渲染某输入框的位置（since 9.0）</p><div class="code-wrap"><pre class="hljs"><code>AlipayJSBridge.call(<span class="hljs-string">'numInputReset'</span>, {
  <span class="hljs-attr">index</span>: index <span class="hljs-comment">//用于重新渲染 input位置，从0开始（带有class含h5numInput的输入框）</span>
});
</code></pre></div><p>inputBlur：手动blur（since 9.5）</p><div class="code-wrap"><pre class="hljs"><code>AlipayJSBridge.call(<span class="hljs-string">'inputBlur'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-comment">// do something</span>
});
</code></pre></div><h3 id="回调事件" class="title-entry">回调事件</h3><div class="code-wrap"><pre class="hljs"><code><span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">'inputEvent'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"index:"</span> + event.data.index);
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"number:"</span> + event.data.value);
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"eventType:"</span> + event.data.eventType);

  <span class="hljs-keyword">if</span>(event.data.eventType == <span class="hljs-string">"blur"</span>) {
    <span class="hljs-comment">// do blur</span>
  }
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(event.data.eventType == <span class="hljs-string">"focus"</span>) {
    <span class="hljs-comment">// do focus</span>
  }
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(event.data.eventType == <span class="hljs-string">"keyup"</span>) {
    <span class="hljs-comment">// do keyup</span>
  }
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(event.data.eventType == <span class="hljs-string">"keydown"</span>) {
    <span class="hljs-comment">// do keydown</span>
  }
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(event.data.eventType == <span class="hljs-string">"change"</span>) {
    <span class="hljs-comment">// do change</span>
  }
}, <span class="hljs-literal">false</span>);
</code></pre></div><h2 id="使用方法" class="title-entry">使用方法</h2><h2 id="代码演示" class="title-entry">代码演示</h2><h3 id="基本功能" class="title-entry">基本功能</h3><div class="demo-wrap"><pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
* {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
}
<span class="hljs-selector-tag">input</span> {
  <span class="hljs-attribute">display</span>: block;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">8px</span>;
  <span class="hljs-attribute">box-sizing</span>: border-box;
  <span class="hljs-attribute">-webkit-box-sizing</span>: border-box;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span> auto;
}
<span class="hljs-selector-id">#J_inputLog</span> {
  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.2</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">12px</span>;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span>
  <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>
  <span class="hljs-attr">class</span>=<span class="hljs-string">"h5numInput"</span>
  <span class="hljs-attr">data-kb-type</span>=<span class="hljs-string">"0"</span>
  <span class="hljs-attr">kb-type</span>=<span class="hljs-string">"0"</span>
  <span class="hljs-attr">data-paste</span>=<span class="hljs-string">"false"</span>
  <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"6"</span>
  <span class="hljs-attr">data-placeholder</span>=<span class="hljs-string">"iOS kb-type=0"</span>
  <span class="hljs-attr">id</span>=<span class="hljs-string">"J_input1"</span>
/&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span>
  <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>
  <span class="hljs-attr">class</span>=<span class="hljs-string">"h5numInput"</span>
  <span class="hljs-attr">data-kb-type</span>=<span class="hljs-string">"1"</span>
  <span class="hljs-attr">kb-type</span>=<span class="hljs-string">"1"</span>
  <span class="hljs-attr">data-paste</span>=<span class="hljs-string">"false"</span>
  <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"6"</span>
  <span class="hljs-attr">data-placeholder</span>=<span class="hljs-string">"iOS kb-type=1"</span>
  <span class="hljs-attr">id</span>=<span class="hljs-string">"J_input2"</span>
/&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span>
  <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>
  <span class="hljs-attr">class</span>=<span class="hljs-string">"h5numInput"</span>
  <span class="hljs-attr">data-kb-type</span>=<span class="hljs-string">"2"</span>
  <span class="hljs-attr">kb-type</span>=<span class="hljs-string">"2"</span>
  <span class="hljs-attr">data-paste</span>=<span class="hljs-string">"false"</span>
  <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"6"</span>
  <span class="hljs-attr">data-placeholder</span>=<span class="hljs-string">"iOS kb-type=2"</span>
  <span class="hljs-attr">id</span>=<span class="hljs-string">"J_input3"</span>
/&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span>
  <span class="hljs-attr">type</span>=<span class="hljs-string">"number"</span>
  <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"system/Android"</span>
  <span class="hljs-attr">id</span>=<span class="hljs-string">"J_input4"</span>
/&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">h5</span>&gt;</span>键盘事件日志<span class="hljs-tag">&lt;/<span class="hljs-name">h5</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"J_inputLog"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ready</span>(<span class="hljs-params">callback</span>) </span>{
  <span class="hljs-comment">// 如果jsbridge已经注入则直接调用</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.AlipayJSBridge) {
    callback &amp;&amp; callback();
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// 如果没有注入则监听注入的事件</span>
    <span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">'AlipayJSBridgeReady'</span>, callback, <span class="hljs-literal">false</span>);
  }
}
ready(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doLog</span>(<span class="hljs-params">logStr</span>) </span>{
    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'J_inputLog'</span>).innerHTML += logStr + <span class="hljs-string">'&lt;br&gt;'</span>;
  }

  <span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">'inputEvent'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
    doLog(<span class="hljs-string">"index:"</span> + event.data.index);
    doLog(<span class="hljs-string">"number:"</span> + event.data.value);
    doLog(<span class="hljs-string">"eventType:"</span> + event.data.eventType);

    <span class="hljs-built_in">console</span>.log(event);

    <span class="hljs-keyword">if</span>(event.data.eventType == <span class="hljs-string">"blur"</span>) {
      <span class="hljs-comment">// do blur</span>
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(event.data.eventType == <span class="hljs-string">"focus"</span>) {
      <span class="hljs-comment">// do focus</span>
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(event.data.eventType == <span class="hljs-string">"keyup"</span>) {
      <span class="hljs-comment">// do keyup</span>
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(event.data.eventType == <span class="hljs-string">"keydown"</span>) {
      <span class="hljs-comment">// do keydown</span>
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(event.data.eventType == <span class="hljs-string">"change"</span>) {
      <span class="hljs-comment">// do change</span>
    }
  }, <span class="hljs-literal">false</span>);
});
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre><div class="demo-actions"><a class="btn btn-primary visible-xs js-demo" href="/nebula/jsapi/ui/custom-keyboard-basic.html">查看演示</a></div><div class="qrcode-handle"><div class="qrcode-toggle"><span class="glyphicon glyphicon-qrcode"></span><span> 扫码查看</span></div><div class="qrcode-wrap"><a href="/nebula/jsapi/ui/custom-keyboard-basic.html" target="_blank" class="J_qrcode">用支付宝扫码运行</a><div class="qrcode"></div></div></div></div><h3 id="Android" class="title-entry">Android</h3><p>安卓自定义键盘直接识别type=’number’，’tel’或者其他以正则表达式约束的input输入框，’tel‘支持input的其他扩展项，如maxLength等。 如果当前页面存在其他输入框，可在数字类型输入框的onfocus调用’hideKeyboard’接口，以隐藏显示的系统键盘之后再唤起自定义键盘。 &lt; input type=”number” data-placeholder=”这里调用数字键盘” /&gt;</p><h3 id="Android数字键盘demo" class="title-entry">Android数字键盘demo</h3><div class="demo-wrap"><pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Android自定义数字键盘<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">”number”</span> <span class="hljs-attr">data-placeholder</span>=<span class="hljs-string">”这里调用数字键盘”/</span>&gt;</span>
</code></pre><div class="demo-actions"><a class="btn btn-primary visible-xs js-demo" href="/nebula/jsapi/ui/custom-keyboard-antbridge-all.html">查看演示</a></div><div class="qrcode-handle"><div class="qrcode-toggle"><span class="glyphicon glyphicon-qrcode"></span><span> 扫码查看</span></div><div class="qrcode-wrap"><a href="/nebula/jsapi/ui/custom-keyboard-antbridge-all.html" target="_blank" class="J_qrcode">用支付宝扫码运行</a><div class="qrcode"></div></div></div></div></div></div><button aria-label="边栏切换" class="sidebar-toggle visible-xs-block js-sidebar-toggle"><span class="glyphicon glyphicon-th-large" aria-hidden="true"></span></button><div class="dimmer" role="presentation"></div></div><div class="container-fluid"><div class="copyright">Copyright @ 2016 杭州蚂蚁金服 ｜ ICP证浙B2-20160559</div></div><input type="hidden" value="/nebula/" id="js-root"><script src="https://os.alipayobjects.com/rmsportal/??fBwppBoXIKidETe.js,zpGDQEkJIvsvKIiMHRdj.js,hKQWxzKJYJLVXfH.js,JIMmGyRgrhqytqElKZRW.js,HPiRBqzDoYVDumq.js"></script><script src="https://a.alipayobjects.com/static/fastclick/1.0.6/fastclick.min.js"></script><script src="/nebula/static/app.js"></script><style>#J_cnzz~a{display:none}</style><script src="https://s11.cnzz.com/z_stat.php?id=1261676206&web_id=1261676206" language="JavaScript" id="J_cnzz"></script></body></html>